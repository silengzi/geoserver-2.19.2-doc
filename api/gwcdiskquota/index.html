<!doctype html>
<html>
  <head>
    <title>GeoWebCache DiskQuota</title>
    <style type="text/css">
      body {
	font-family: Trebuchet MS, sans-serif;
	font-size: 15px;
	color: #444;
	margin-right: 24px;
}

h1	{
	font-size: 25px;
}
h2	{
	font-size: 20px;
}
h3	{
	font-size: 16px;
	font-weight: bold;
}
hr	{
	height: 1px;
	border: 0;
	color: #ddd;
	background-color: #ddd;
}

.app-desc {
  clear: both;
  margin-left: 20px;
}
.param-name {
  width: 100%;
}
.license-info {
  margin-left: 20px;
}

.license-url {
  margin-left: 20px;
}

.model {
  margin: 0 0 0px 20px;
}

.method {
  margin-left: 20px;
}

.method-notes	{
	margin: 10px 0 20px 0;
	font-size: 90%;
	color: #555;
}

pre {
  padding: 10px;
  margin-bottom: 2px;
}

.http-method {
 text-transform: uppercase;
}

pre.get {
  background-color: #0f6ab4;
}

pre.post {
  background-color: #10a54a;
}

pre.put {
  background-color: #c5862b;
}

pre.delete {
  background-color: #a41e22;
}

.huge	{
	color: #fff;
}

pre.example {
  background-color: #f3f3f3;
  padding: 10px;
  border: 1px solid #ddd;
}

code {
  white-space: pre;
}

.nickname {
  font-weight: bold;
}

.method-path {
  font-size: 1.5em;
  background-color: #0f6ab4;
}

.up {
  float:right;
}

.parameter {
  width: 500px;
}

.param {
  width: 500px;
  padding: 10px 0 0 20px;
  font-weight: bold;
}

.param-desc {
  width: 700px;
  padding: 0 0 0 20px;
  color: #777;
}

.param-type {
  font-style: italic;
}

.param-enum-header {
width: 700px;
padding: 0 0 0 60px;
color: #777;
font-weight: bold;
}

.param-enum {
width: 700px;
padding: 0 0 0 80px;
color: #777;
font-style: italic;
}

.field-label {
  padding: 0;
  margin: 0;
  clear: both;
}

.field-items	{
	padding: 0 0 15px 0;
	margin-bottom: 15px;
}

.return-type {
  clear: both;
  padding-bottom: 10px;
}

.param-header {
  font-weight: bold;
}

.method-tags {
  text-align: right;
}

.method-tag {
  background: none repeat scroll 0% 0% #24A600;
  border-radius: 3px;
  padding: 2px 10px;
  margin: 2px;
  color: #FFF;
  display: inline-block;
  text-decoration: none;
}

    </style>
  </head>
  <body>
  <h1>GeoWebCache DiskQuota</h1>
    <div class="app-desc">The REST API for Disk Quota management provides a RESTful interface through which clients can configure the disk usage limits and expiration policies for a GeoWebCache instance through simple HTTP calls.  Since disk usage increases geometrically by zoom level, one single seeding task could fill up an entire storage device. Because of this, GeoWebCache employs a disk quota system where one can specify the maximum amount of disk space to use for a particular layer, as well as logic on how to proceed when that quota is reached. There are two different policies for managing the disk quotas - Least Frequently Used (LFU) and Least Recently Used (LRU).</div>
    <div class="app-desc">More information: <a href="http://geoserver.org/comm/">http://geoserver.org/comm/</a></div>
    <div class="app-desc">Contact Info: <a href="geoserver-users@sourceforge.net">geoserver-users@sourceforge.net</a></div>
    <div class="app-desc">Version: 1.0.0</div>
    <div class="app-desc">BasePath:/geoserver/gwc/rest</div>
    <div class="license-info">All rights reserved</div>
    <div class="license-url">http://apache.org/licenses/LICENSE-2.0.html</div>
  <h2>Access</h2>

  <h2><a name="__Methods">Methods</a></h2>
  [ Jump to <a href="#__Models">Models</a> ]

  <h3>Table of Contents </h3>
  <div class="method-summary"></div>
  <h4><a href="#GwcDiskQuota">GwcDiskQuota</a></h4>
  <ul>
  <li><a href="#diskQuotaGet"><code><span class="http-method">get</span> /diskquota</code></a></li>
  <li><a href="#diskQuotaPut"><code><span class="http-method">put</span> /diskquota</code></a></li>
  </ul>

  <h1><a name="GwcDiskQuota">GwcDiskQuota</a></h1>
  <div class="method"><a name="diskQuotaGet"/>
    <div class="method-path">
    <a class="up" href="#__Methods">Up</a>
    <pre class="get"><code class="huge"><span class="http-method">get</span> /diskquota</code></pre></div>
    <div class="method-summary">Returns the gwc Quota configuration (<span class="nickname">diskQuotaGet</span>)</div>
    <div class="method-notes">Returns the GeoWebCache DiskQuota configurations which include disk usage limits and expritation policies for a gwc instance.</div>








    <!--Todo: process Response Object and its headers, schema, examples -->


    <h3 class="field-label">Produces</h3>
    This API call produces the following media types according to the <span class="header">Accept</span> request header;
    the media type will be conveyed by the <span class="header">Content-Type</span> response header.
    <ul>
      <li><code>application/xml</code></li>
      <li><code>application/json</code></li>
    </ul>

    <h3 class="field-label">Responses</h3>
    <h4 class="field-label">200</h4>
    OK
        <a href="#"></a>
    <h3 class="field-label">Example data</h3>
    <div class="example-data-content-type">Content-Type: application/xml</div>
    <pre class="example"><code><gwcQuotaConfiguration>
  <enabled>true</enabled>
  <diskBlockSize>2048</diskBlockSize>
  <cacheCleanUpFrequency>5</cacheCleanUpFrequency>
  <cacheCleanUpUnits>SECONDS</cacheCleanUpUnits>
  <maxConcurrentCleanUps>5</maxConcurrentCleanUps>
  <globalExpirationPolicyName>LRU</globalExpirationPolicyName>
  <globalQuota>
    <value>100</value>
    <units>MiB</units>
  </globalQuota>
  <layerQuotas/>
</gwcQuotaConfiguration>
</code></pre>
    <h3 class="field-label">Example data</h3>
    <div class="example-data-content-type">Content-Type: appliction/json</div>
    <pre class="example"><code>{
  "org.geowebcache.diskquota.DiskQuotaConfig": {
    "enabled": false,
    "cacheCleanUpFrequency": 10,
    "cacheCleanUpUnits": "SECONDS",
    "maxConcurrentCleanUps": 2,
    "globalExpirationPolicyName": "LFU",
    "globalQuota": {
      "id": 0,
      "bytes": 524288000
    }
  }
}
</code></pre>
  </div> <!-- method -->
  <hr/>
  <div class="method"><a name="diskQuotaPut"/>
    <div class="method-path">
    <a class="up" href="#__Methods">Up</a>
    <pre class="put"><code class="huge"><span class="http-method">put</span> /diskquota</code></pre></div>
    <div class="method-summary">Modify properties of a gwc instance disk quota configuration. (<span class="nickname">diskQuotaPut</span>)</div>
    <div class="method-notes">The request body for PUT should contain desired properties to be modified.</div>


    <h3 class="field-label">Consumes</h3>
    This API call consumes the following media types via the <span class="header">Content-Type</span> request header:
    <ul>
      <li><code>application/xml</code></li>
      <li><code>application/json</code></li>
    </ul>

    <h3 class="field-label">Request body</h3>
    <div class="field-items">
      <div class="param">requestBody <a href="#DiskQuota">DiskQuota</a> (optional)</div>

      <div class="param-desc"><span class="param-type">Body Parameter</span> &mdash; The diskquota configuration with modified property values. </div>

    </div>  <!-- field-items -->





    <!--Todo: process Response Object and its headers, schema, examples -->



    <h3 class="field-label">Responses</h3>
    <h4 class="field-label">200</h4>
    OK
        <a href="#"></a>
  </div> <!-- method -->
  <hr/>

  <h2><a name="__Models">Models</a></h2>
  [ Jump to <a href="#__Methods">Methods</a> ]

  <h3>Table of Contents</h3>
  <ol>
    <li><a href="#DiskQuota"><code>DiskQuota</code> - gwcQuotaConfiguration</a></li>
    <li><a href="#DiskQuota_globalQuota"><code>DiskQuota_globalQuota</code> - </a></li>
    <li><a href="#DiskQuota_layerQuota"><code>DiskQuota_layerQuota</code> - </a></li>
    <li><a href="#DiskQuota_layerQuota_quota"><code>DiskQuota_layerQuota_quota</code> - </a></li>
  </ol>

  <div class="model">
    <h3><a name="DiskQuota"><code>DiskQuota</code> - gwcQuotaConfiguration</a> <a class="up" href="#__Models">Up</a></h3>
    <div class='model-description'></div>
    <div class="field-items">
      <div class="param">enabled (optional)</div><div class="param-desc"><span class="param-type"><a href="#boolean">Boolean</a></span> Determines if Disk Quota is to be used. </div>
<div class="param">diskBlockSize (optional)</div><div class="param-desc"><span class="param-type"><a href="#number">BigDecimal</a></span> The number of bytes allocated to Disk Quota. </div>
<div class="param">cacheCleanUpFrequency (optional)</div><div class="param-desc"><span class="param-type"><a href="#number">BigDecimal</a></span> GeoWebCache will not truncate the cache as soon as the disk quota is exceeded. Instead, it polls the store at given intervals, with this time interval set. </div>
<div class="param">cacheCleanUpUnits (optional)</div><div class="param-desc"><span class="param-type"><a href="#string">String</a></span> The time unit used to describe the number in cacheCleanUpFrequency. </div>
        <div class="param-enum-header">Enum:</div>
        <div class="param-enum">SECONDS</div><div class="param-enum">MINUTES</div><div class="param-enum">HOURS</div><div class="param-enum">DAYS</div>
<div class="param">maxConcurrentCleanUps (optional)</div><div class="param-desc"><span class="param-type"><a href="#number">BigDecimal</a></span> The amount of threads to use when processing the disk quota. </div>
<div class="param">globalExpirationPolicyName (optional)</div><div class="param-desc"><span class="param-type"><a href="#string">String</a></span> When a disk quota is reached, further tiles will be saved at the expense of other tiles which will be truncated. The Least Frequently Used (LFU) policy will analyze the disk quota page store and delete the pages of tiles that have been accessed the least often. The Least Recently Used (LRU) policy will analyze the diskquota page store and delete the tiles that haven’t been accessed in the longest amount of time. </div>
        <div class="param-enum-header">Enum:</div>
        <div class="param-enum">LRU</div><div class="param-enum">LSU</div>
<div class="param">globalQuota (optional)</div><div class="param-desc"><span class="param-type"><a href="#DiskQuota_globalQuota">DiskQuota_globalQuota</a></span>  </div>
<div class="param">layerQuota (optional)</div><div class="param-desc"><span class="param-type"><a href="#DiskQuota_layerQuota">DiskQuota_layerQuota</a></span>  </div>
    </div>  <!-- field-items -->
  </div>
  <div class="model">
    <h3><a name="DiskQuota_globalQuota"><code>DiskQuota_globalQuota</code> - </a> <a class="up" href="#__Models">Up</a></h3>
    <div class='model-description'>When the global quota is exceeded, first any explicitly configured quota is enforced, and then the global quota is enforced acting upon all the remaining layers until the global quota is reached back.</div>
    <div class="field-items">
      <div class="param">value (optional)</div><div class="param-desc"><span class="param-type"><a href="#number">BigDecimal</a></span> Numeric value for global quota. </div>
<div class="param">units (optional)</div><div class="param-desc"><span class="param-type"><a href="#string">String</a></span> The type of unit quantified by value. </div>
        <div class="param-enum-header">Enum:</div>
        <div class="param-enum">B</div><div class="param-enum">KiB</div><div class="param-enum">MiB</div><div class="param-enum">GiB</div><div class="param-enum">TiB</div>
    </div>  <!-- field-items -->
  </div>
  <div class="model">
    <h3><a name="DiskQuota_layerQuota"><code>DiskQuota_layerQuota</code> - </a> <a class="up" href="#__Models">Up</a></h3>
    <div class='model-description'>When a layer's disk quota is reached, further tiles will be saved at the expense of other tiles which will be truncated.</div>
    <div class="field-items">
      <div class="param">layer (optional)</div><div class="param-desc"><span class="param-type"><a href="#string">String</a></span> The layer name. </div>
<div class="param">expirationPolicyName (optional)</div><div class="param-desc"><span class="param-type"><a href="#string">String</a></span> When a disk quota is reached, further tiles will be saved at the expense of other tiles which will be truncated. The Least Frequently Used (LFU) policy will analyze the disk quota page store and delete the pages of tiles that have been accessed the least often. The Least Recently Used (LRU) policy will analyze the diskquota page store and delete the tiles that haven’t been accessed in the longest amount of time. </div>
        <div class="param-enum-header">Enum:</div>
        <div class="param-enum">LRU</div><div class="param-enum">LSU</div>
<div class="param">quota (optional)</div><div class="param-desc"><span class="param-type"><a href="#DiskQuota_layerQuota_quota">DiskQuota_layerQuota_quota</a></span>  </div>
    </div>  <!-- field-items -->
  </div>
  <div class="model">
    <h3><a name="DiskQuota_layerQuota_quota"><code>DiskQuota_layerQuota_quota</code> - </a> <a class="up" href="#__Models">Up</a></h3>
    <div class='model-description'>Container for quota value and units</div>
    <div class="field-items">
      <div class="param">value (optional)</div><div class="param-desc"><span class="param-type"><a href="#number">BigDecimal</a></span> Numeric value for global quota. </div>
<div class="param">units (optional)</div><div class="param-desc"><span class="param-type"><a href="#string">String</a></span> The type of unit quantified by value. </div>
        <div class="param-enum-header">Enum:</div>
        <div class="param-enum">B</div><div class="param-enum">KiB</div><div class="param-enum">MiB</div><div class="param-enum">GiB</div><div class="param-enum">TiB</div>
    </div>  <!-- field-items -->
  </div>
  </body>
</html>
