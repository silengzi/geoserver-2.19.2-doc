<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Rendered map/animation download processes &mdash; GeoServer 2.19.2 User Manual</title>
  <link rel="stylesheet" href="../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.19.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/searchtools.js"></script>
  <script type="text/javascript" src="../../searchindex.js"></script>
  <link rel="shortcut icon" href="../../_static/geoserver.ico"/>
      <link rel="search" title="Search" href="../../search.html" />
      <link rel="top" title="GeoServer 2.19.2 User Manual" href="../../index.html" />
      <link rel="up" title="WPS Download plugin" href="index.html" />
      <link rel="next" title="WPS JDBC" href="../wps-jdbc/index.html" />
      <link rel="prev" title="Raw data download processes" href="rawDownload.html" />
</head>
<body class="extensions/wps-download/mapAnimationDownload">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../index.html">GeoServer 2.19.2 User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/about">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/download">Download</a></li>
        <!--<li><a href="../../index.html">Documentation</a></li>-->
      </ul>
        <form id="quick-search" action="../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content-left" class="content-border"></div>
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../index.html">GeoServer 2.19.2 User Manual</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Extensions</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">WPS Download plugin</a> &raquo;</li>
  <li>Rendered map/animation download processes</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../../py-modindex.html" title="Python Module Index"
       accesskey="">modules</a></li>
  <li>
    <a href="../wps-jdbc/index.html" title="WPS JDBC"
       accesskey="N">next</a>|</li>
  <li>
    <a href="rawDownload.html" title="Raw data download processes"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="rendered-map-animation-download-processes">
<span id="community-wpsrendereddownload"></span><h1>Rendered map/animation download processes<a class="headerlink" href="#rendered-map-animation-download-processes" title="Permalink to this headline">¶</a></h1>
<p>These processes allow download large maps and animations.</p>
<div class="section" id="the-rendered-download-processes">
<h2>The rendered download processes<a class="headerlink" href="#the-rendered-download-processes" title="Permalink to this headline">¶</a></h2>
<p>The map and animation downloads work off a set of common parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bbox</span></code> : a geo-referenced bounding box, controlling both output area and desired projection</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">decoration</span></code> : the name of a decoration layout to be added on top of the map</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time</span></code> : a WMS <code class="docutils literal notranslate"><span class="pre">time</span></code> specification used to drive the selection of times across the layers in the map, and to control the frame generation in the animation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">width</span></code> and <code class="docutils literal notranslate"><span class="pre">height</span></code> : size of the output map/animation (and in combination with bounding box, also controls the output map scale)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer</span></code>: a list of layer specifications, from a client side point of view (thus, a layer can be composed of multiple server side layers). When dwn:DecorationName layer option is used, it allows to define a specific layout that will be used when decorations are applied to the layer. It allows to render more than one Legend on the resulting image, when having more than one Layer declared.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">headerheight</span></code> : height size of a header space allocated at top of rendered map. It’s an optional parameter, that forces to shrink the maps view height in order to avoid overlapping header over the maps. In combination with the use of layer specification options allows to group decorators at the top of resulting image.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="the-layer-specification">
<h2>The layer specification<a class="headerlink" href="#the-layer-specification" title="Permalink to this headline">¶</a></h2>
<p>A layer specification is a XML structure made of three parts:</p>
<blockquote>
<div><ul class="simple">
<li><p>Name: a comma separated list of layer names (eventually just one)</p></li>
<li><p>Capabilities: link to a capabilities document (optional, used when targetting remote WMS layers)</p></li>
<li><p>Parameter (key, value): an extra parameter to be added in the WMS request represented by this layer (e.g., <code class="docutils literal notranslate"><span class="pre">elevation</span></code>, <code class="docutils literal notranslate"><span class="pre">CQL_FILTER</span></code>, <code class="docutils literal notranslate"><span class="pre">env</span></code>)</p></li>
</ul>
</div></blockquote>
<p>For example:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;wps:ComplexData</span> <span class="na">xmlns:dwn=</span><span class="s">&quot;http://geoserver.org/wps/download&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;dwn:Layer&gt;</span>
    <span class="nt">&lt;dwn:Capabilities&gt;</span>http://demo.geo-solutions.it/geoserver/ows?service=wms<span class="ni">&amp;amp;</span>version=1.1.1<span class="ni">&amp;amp;</span>request=GetCapabilities<span class="nt">&lt;/dwn:Name&gt;</span>
    <span class="nt">&lt;dwn:Name&gt;</span>topp:states<span class="nt">&lt;/dwn:Name&gt;</span>
    <span class="nt">&lt;dwn:Parameter</span> <span class="na">key=</span><span class="s">&quot;CQL_FILTER&quot;</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[PERSONS &gt; 1000000]]&gt;</span><span class="nt">&lt;/dwn:Parameter&gt;</span>
  <span class="nt">&lt;/dwn:Layer&gt;</span>
<span class="nt">&lt;/wps:ComplexData&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="sample-downloadmap-requests">
<h2>Sample DownloadMap requests<a class="headerlink" href="#sample-downloadmap-requests" title="Permalink to this headline">¶</a></h2>
<p>The map download process has only the basic inputs described above, the <code class="docutils literal notranslate"><span class="pre">time</span></code> parameter is optional.
The map download process uses the WMS machinery to produce the output, but it’s not subject to the WMS service
limits (width and height in this process can be limited using the WPS process security).</p>
<p>A download map issued against a set of local layers can look as follows:</p>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;wps:Execute</span> <span class="na">version=</span><span class="s">&quot;1.0.0&quot;</span> <span class="na">service=</span><span class="s">&quot;WPS&quot;</span>
             <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/wps/1.0.0&quot;</span>
             <span class="na">xmlns:wfs=</span><span class="s">&quot;http://www.opengis.net/wfs&quot;</span> <span class="na">xmlns:wps=</span><span class="s">&quot;http://www.opengis.net/wps/1.0.0&quot;</span>
             <span class="na">xmlns:ows=</span><span class="s">&quot;http://www.opengis.net/ows/1.1&quot;</span> <span class="na">xmlns:gml=</span><span class="s">&quot;http://www.opengis.net/gml&quot;</span>
             <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">xmlns:wcs=</span><span class="s">&quot;http://www.opengis.net/wcs/1.1.1&quot;</span>
             <span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span>
             <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ows:Identifier&gt;</span>gs:DownloadMap<span class="nt">&lt;/ows:Identifier&gt;</span>
  <span class="nt">&lt;wps:DataInputs&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>bbox<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:BoundingBoxData</span> <span class="na">crs=</span><span class="s">&quot;EPSG:4326&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;ows:LowerCorner&gt;</span>0.237 40.562<span class="nt">&lt;/ows:LowerCorner&gt;</span>
          <span class="nt">&lt;ows:UpperCorner&gt;</span>14.593 44.55<span class="nt">&lt;/ows:UpperCorner&gt;</span>
        <span class="nt">&lt;/wps:BoundingBoxData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>time<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:LiteralData&gt;</span>2008-10-31T00:00:00.000Z<span class="nt">&lt;/wps:LiteralData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>width<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:LiteralData&gt;</span>200<span class="nt">&lt;/wps:LiteralData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>height<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:LiteralData&gt;</span>80<span class="nt">&lt;/wps:LiteralData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>layer<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:ComplexData</span> <span class="na">xmlns:dwn=</span><span class="s">&quot;http://geoserver.org/wps/download&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;dwn:Layer&gt;</span>
            <span class="nt">&lt;dwn:Name&gt;</span>giantPolygon<span class="nt">&lt;/dwn:Name&gt;</span>
            <span class="nt">&lt;dwn:Parameter</span> <span class="na">key=</span><span class="s">&quot;featureId&quot;</span><span class="nt">&gt;</span>giantPolygon.0<span class="nt">&lt;/dwn:Parameter&gt;</span>
          <span class="nt">&lt;/dwn:Layer&gt;</span>
        <span class="nt">&lt;/wps:ComplexData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>layer<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:ComplexData</span> <span class="na">xmlns:dwn=</span><span class="s">&quot;http://geoserver.org/wps/download&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;dwn:Layer&gt;</span>
            <span class="nt">&lt;dwn:Name&gt;</span>watertemp<span class="nt">&lt;/dwn:Name&gt;</span>
          <span class="nt">&lt;/dwn:Layer&gt;</span>
        <span class="nt">&lt;/wps:ComplexData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
  <span class="nt">&lt;/wps:DataInputs&gt;</span>
  <span class="nt">&lt;wps:ResponseForm&gt;</span>
    <span class="nt">&lt;wps:RawDataOutput</span> <span class="na">mimeType=</span><span class="s">&quot;image/png&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>result<span class="nt">&lt;/ows:Identifier&gt;</span>
    <span class="nt">&lt;/wps:RawDataOutput&gt;</span>
  <span class="nt">&lt;/wps:ResponseForm&gt;</span>
<span class="nt">&lt;/wps:Execute&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>For this example the layers could have been a single one, with a “Name” equal to “giantPolygon,watertermp”.</p>
</div>
<div class="section" id="sample-downloadanimation-request">
<h2>Sample DownloadAnimation request<a class="headerlink" href="#sample-downloadanimation-request" title="Permalink to this headline">¶</a></h2>
<p>The download animation has all the basic parameters with the following variants/additions:</p>
<ul class="simple">
<li><p>time: The time parameter is required and can be provided either as range with periodicity, <code class="docutils literal notranslate"><span class="pre">start/stop/period</span></code>, or
as a comma separated list of times,``t1,t2,…,tn``</p></li>
<li><p>fps: Frame per seconds (defaults to one)</p></li>
</ul>
<p>A sample animation request can look as follows:</p>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;wps:Execute</span> <span class="na">version=</span><span class="s">&quot;1.0.0&quot;</span> <span class="na">service=</span><span class="s">&quot;WPS&quot;</span>
             <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/wps/1.0.0&quot;</span>
             <span class="na">xmlns:wfs=</span><span class="s">&quot;http://www.opengis.net/wfs&quot;</span> <span class="na">xmlns:wps=</span><span class="s">&quot;http://www.opengis.net/wps/1.0.0&quot;</span>
             <span class="na">xmlns:ows=</span><span class="s">&quot;http://www.opengis.net/ows/1.1&quot;</span> <span class="na">xmlns:gml=</span><span class="s">&quot;http://www.opengis.net/gml&quot;</span>
             <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">xmlns:wcs=</span><span class="s">&quot;http://www.opengis.net/wcs/1.1.1&quot;</span>
             <span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span>
             <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ows:Identifier&gt;</span>gs:DownloadAnimation<span class="nt">&lt;/ows:Identifier&gt;</span>
  <span class="nt">&lt;wps:DataInputs&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>bbox<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:BoundingBoxData</span> <span class="na">crs=</span><span class="s">&quot;EPSG:4326&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;ows:LowerCorner&gt;</span>-180 -90<span class="nt">&lt;/ows:LowerCorner&gt;</span>
          <span class="nt">&lt;ows:UpperCorner&gt;</span>180 90<span class="nt">&lt;/ows:UpperCorner&gt;</span>
        <span class="nt">&lt;/wps:BoundingBoxData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>decoration<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:LiteralData&gt;</span>formattedTimestamper<span class="nt">&lt;/wps:LiteralData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>time<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:LiteralData&gt;</span>2004-02-01,2004-03-01,2004-04-01,2004-05-01<span class="nt">&lt;/wps:LiteralData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>width<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:LiteralData&gt;</span>271<span class="nt">&lt;/wps:LiteralData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>height<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:LiteralData&gt;</span>136<span class="nt">&lt;/wps:LiteralData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>fps<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:LiteralData&gt;</span>0.5<span class="nt">&lt;/wps:LiteralData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
    <span class="nt">&lt;wps:Input&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>layer<span class="nt">&lt;/ows:Identifier&gt;</span>
      <span class="nt">&lt;wps:Data&gt;</span>
        <span class="nt">&lt;wps:ComplexData</span> <span class="na">xmlns:dwn=</span><span class="s">&quot;http://geoserver.org/wps/download&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;dwn:Layer&gt;</span>
            <span class="nt">&lt;dwn:Name&gt;</span>sf:bmtime<span class="nt">&lt;/dwn:Name&gt;</span>
          <span class="nt">&lt;/dwn:Layer&gt;</span>
        <span class="nt">&lt;/wps:ComplexData&gt;</span>
      <span class="nt">&lt;/wps:Data&gt;</span>
    <span class="nt">&lt;/wps:Input&gt;</span>
  <span class="nt">&lt;/wps:DataInputs&gt;</span>
  <span class="nt">&lt;wps:ResponseForm&gt;</span>
    <span class="nt">&lt;wps:RawDataOutput</span> <span class="na">mimeType=</span><span class="s">&quot;video/mp4&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ows:Identifier&gt;</span>result<span class="nt">&lt;/ows:Identifier&gt;</span>
    <span class="nt">&lt;/wps:RawDataOutput&gt;</span>
  <span class="nt">&lt;/wps:ResponseForm&gt;</span>
<span class="nt">&lt;/wps:Execute&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">formattedTimestamper</span></code> decoration ensures the frame time is included in the output animation, and looks as follows:</p>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;layout&gt;</span>
  <span class="nt">&lt;decoration</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">affinity=</span><span class="s">&quot;bottom,right&quot;</span> <span class="na">offset=</span><span class="s">&quot;6,6&quot;</span> <span class="na">size=</span><span class="s">&quot;auto&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&quot;message&quot;</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[</span>
<span class="cp">&lt;#setting datetime_format=&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;&gt;</span>
<span class="cp">&lt;#setting locale=&quot;en_US&quot;&gt;</span>
<span class="cp">&lt;#if time??&gt;</span>
<span class="cp">${time?datetime?string[&quot;dd-MM-yyyy&quot;]}</span>
<span class="cp">&lt;/#if&gt;]]&gt;</span><span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&quot;font-family&quot;</span> <span class="na">value=</span><span class="s">&quot;Bitstream Vera Sans&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&quot;font-size&quot;</span> <span class="na">value=</span><span class="s">&quot;12&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&quot;halo-radius&quot;</span> <span class="na">value=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/decoration&gt;</span>
<span class="nt">&lt;/layout&gt;</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="decoration-layout">
<h2>Decoration Layout<a class="headerlink" href="#decoration-layout" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">The <code class="docutils literal notranslate"><span class="pre">decoration</span></code> parameter specifies the file name (without extension) of the layout to be used to decorate the map.</div>
<div class="line">The layout is a list of decorators that should draw on top of the requested image.</div>
<div class="line">The decorators draw on the image one after the other, so the order of the decorators in the layout file is important: the first decorator output will appear under the others.</div>
<div class="line">Decorators are described in detail in the <a class="reference internal" href="../../services/wms/decoration.html#wms-decorations"><span class="std std-ref">WMS Decorations</span></a> section.</div>
</div>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="rawDownload.html" title="previous chapter">Raw data download processes</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="../wps-jdbc/index.html" title="next chapter">WPS JDBC</a></div>
      </div>
      </div><!-- /#content> -->
      <div id="content-right" class="content-border"></div>
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Rendered map/animation download processes</a><ul>
<li><a class="reference internal" href="#the-rendered-download-processes">The rendered download processes</a></li>
<li><a class="reference internal" href="#the-layer-specification">The layer specification</a></li>
<li><a class="reference internal" href="#sample-downloadmap-requests">Sample DownloadMap requests</a></li>
<li><a class="reference internal" href="#sample-downloadanimation-request">Sample DownloadAnimation request</a></li>
<li><a class="reference internal" href="#decoration-layout">Decoration Layout</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="rawDownload.html" title="previous chapter">Raw data download processes</a></li>
            <li>Next: <a href="../wps-jdbc/index.html" title="next chapter">WPS JDBC</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
                
        <li><a href="https://github.com/geoserver/geoserver/tree/master/doc/en/user/source/extensions/wps-download/mapAnimationDownload.rst">Edit</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2021, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    Last updated on Jul 20, 2021.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>