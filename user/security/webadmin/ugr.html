<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Users, Groups, Roles &mdash; GeoServer 2.19.2 User Manual</title>
  <link rel="stylesheet" href="../../static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.19.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../static/jquery.js"></script>
  <script type="text/javascript" src="../../static/doctools.js"></script>
  <script type="text/javascript" src="../../static/searchtools.js"></script>
  <script type="text/javascript" src="../../searchindex.js"></script>
  <link rel="shortcut icon" href="../../static/geoserver.ico"/>
      <link rel="search" title="Search" href="../../search.html" />
      <link rel="top" title="GeoServer 2.19.2 User Manual" href="../../index.html" />
      <link rel="up" title="Security settings" href="index.html" />
      <link rel="next" title="Data" href="data.html" />
      <link rel="prev" title="Passwords" href="passwords.html" />
</head>
<body class="security/webadmin/ugr">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../index.html">GeoServer 2.19.2 User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/about">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/download">Download</a></li>
        <!--<li><a href="../../index.html">Documentation</a></li>-->
      </ul>
        <form id="quick-search" action="../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content-left" class="content-border"></div>
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../index.html">GeoServer 2.19.2 User Manual</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Security</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Security settings</a> &raquo;</li>
  <li>Users, Groups, Roles</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../../py-modindex.html" title="Python Module Index"
       accesskey="">modules</a></li>
  <li>
    <a href="data.html" title="Data"
       accesskey="N">next</a>|</li>
  <li>
    <a href="passwords.html" title="Passwords"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="users-groups-roles">
<span id="security-webadmin-ugr"></span><h1>Users, Groups, Roles<a class="headerlink" href="#users-groups-roles" title="Permalink to this headline">¶</a></h1>
<p>This section provides the configuration options for <a class="reference internal" href="../usergrouprole/usergroupservices.html#security-rolesystem-usergroupservices"><span class="std std-ref">User/group services</span></a> and <a class="reference internal" href="../usergrouprole/roleservices.html#security-rolesystem-roleservices"><span class="std std-ref">Role services</span></a>. In addition, users, groups, and roles themselves and can be added, edited, or removed. A great deal of configuration can be accomplished in this section and related pages.</p>
<div class="section" id="user-group-services">
<span id="security-webadmin-usergroupservices"></span><h2>User Group Services<a class="headerlink" href="#user-group-services" title="Permalink to this headline">¶</a></h2>
<p>In this menu, user/group services can be added, removed, or edited. By default, there is one user/group service in GeoServer, which is <a class="reference internal" href="../usergrouprole/usergroupservices.html#security-rolesystem-usergroupxml"><span class="std std-ref">XML-based</span></a>. It is encrypted with <a class="reference internal" href="../passwd.html#security-passwd-encryption"><span class="std std-ref">Weak PBE</span></a> and uses the default <a class="reference internal" href="../passwd.html#security-passwd-policy"><span class="std std-ref">password policy</span></a>. It is also possible to have a user/group service based on <a class="reference internal" href="../usergrouprole/usergroupservices.html#security-rolesystem-usergroupjdbc"><span class="std std-ref">JDBC</span></a>, with or without JNDI.</p>
<div class="figure align-center" id="id1">
<img alt="../../_images/ugr_usergroup.png" src="../../_images/ugr_usergroup.png" />
<p class="caption"><span class="caption-text"><em>User/group services</em></span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>Clicking an existing user/group service will enable editing, while clicking the <span class="guilabel">Add new</span> link will configure a new user/group service.</p>
<p>There are three tabs for configuration:  Settings, Users, and Groups.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When creating a new user/group service, the form filled out initially can be found under the Settings tab.</p>
</div>
</div>
<div class="section" id="add-new-xml-user-group-service">
<h2>Add new XML user/group service<a class="headerlink" href="#add-new-xml-user-group-service" title="Permalink to this headline">¶</a></h2>
<p>To add a new XML user/group service, click the <span class="guilabel">Add new</span> link. XML is the default option. The following figure shows the configuration options for an XML user/group service.</p>
<div class="figure align-center" id="id2">
<img alt="../../_images/ugr_ugxmlsettings.png" src="../../_images/ugr_ugxmlsettings.png" />
<p class="caption"><span class="caption-text"><em>Adding an XML user/group service</em></span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Name</p></td>
<td><p>The name of the user/group service</p></td>
</tr>
<tr class="row-odd"><td><p>Password encryption</p></td>
<td><p>Sets the type of <a class="reference internal" href="../passwd.html#security-passwd-encryption"><span class="std std-ref">Password encryption</span></a>. Options are <span class="guilabel">Plain text</span>, <span class="guilabel">Weak PBE</span>, <span class="guilabel">Strong PBE</span>, and <span class="guilabel">Digest</span>.</p></td>
</tr>
<tr class="row-even"><td><p>Password policy</p></td>
<td><p>Sets the <a class="reference internal" href="../passwd.html#security-passwd-policy"><span class="std std-ref">password policy</span></a>. Options are any active password policies as set in the <a class="reference internal" href="passwords.html#security-webadmin-passwd"><span class="std std-ref">Passwords</span></a> section.</p></td>
</tr>
<tr class="row-odd"><td><p>XML filename</p></td>
<td><p>Name of the file that will contain the user and group information. Default is <code class="file docutils literal notranslate"><span class="pre">users.xml</span></code> in the <code class="docutils literal notranslate"><span class="pre">security/usergroup/&lt;name_of_usergroupservice&gt;</span></code> directory.</p></td>
</tr>
<tr class="row-even"><td><p>Enable schema validation</p></td>
<td><p>If selected, forces schema validation to occur every time the XML file is read. This option is useful when editing the XML file by hand.</p></td>
</tr>
<tr class="row-odd"><td><p>File reload interval</p></td>
<td><p>Defines the frequency (in milliseconds) in which GeoServer will check for changes to the XML file. If the file is found to have been modified, GeoServer will recreate the user/group database based on the current state of the file. This value is meant to be set in cases where the XML file contents might change “out of process” and not directly through the web admin interface. The value is specified in milliseconds. A value of 0 disables any checking of the file.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="add-new-jdbc-user-group-service">
<h2>Add new JDBC user/group service<a class="headerlink" href="#add-new-jdbc-user-group-service" title="Permalink to this headline">¶</a></h2>
<p>To add a new XML user/group service, click the <span class="guilabel">Add new</span> link, and then the <span class="guilabel">JDBC</span> option at the top of the following form. The following figure shows the configuration options for a JDBC user/group service.</p>
<div class="figure align-center" id="id3">
<img alt="../../_images/ugr_ugjdbcsettings.png" src="../../_images/ugr_ugjdbcsettings.png" />
<p class="caption"><span class="caption-text"><em>Adding a user/group service via JDBC</em></span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Name</p></td>
<td><p>Name of the JDBC user/group service in GeoServer</p></td>
</tr>
<tr class="row-odd"><td><p>Password encryption</p></td>
<td><p>The method to used to <a class="reference internal" href="../passwd.html#security-passwd-encryption"><span class="std std-ref">encrypt user passwords</span></a></p></td>
</tr>
<tr class="row-even"><td><p>Password policy</p></td>
<td><p>The <a class="reference internal" href="../passwd.html#security-passwd-policy"><span class="std std-ref">policy</span></a> to use to enforce constraints on user passwords</p></td>
</tr>
<tr class="row-odd"><td><p>JNDI</p></td>
<td><p>When unchecked, specifies a direct connection to the database. When checked, specifies an existing connection located through <a class="reference internal" href="../../data/database/jndi.html#data-jndi"><span class="std std-ref">JNDI</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>Driver class name</p></td>
<td><p>JDBC driver to use for the database connection</p></td>
</tr>
<tr class="row-odd"><td><p>Connection URL</p></td>
<td><p>Specifies the JDBC URL to use when creating the database connection</p></td>
</tr>
<tr class="row-even"><td><p>Username</p></td>
<td><p>Username to use when connecting to the database</p></td>
</tr>
<tr class="row-odd"><td><p>Password</p></td>
<td><p>Password to use when connecting to the database</p></td>
</tr>
<tr class="row-even"><td><p>Create database tables</p></td>
<td><p>Specifies whether to create all the necessary tables in the underlying database</p></td>
</tr>
<tr class="row-odd"><td><p>Data Definition Language (DDL) file</p></td>
<td><p>Specifies a custom DDL file to use for creating tables in the underlying database, for cases where the default DDL statements fail on the given database. If left blank, internal defaults are used.</p></td>
</tr>
<tr class="row-even"><td><p>Data Manipulation Language (DML) file</p></td>
<td><p>Specifies a custom DML file to use for accessing tables in the underlying database, for cases where the default DML statements fail on the given database. If left blank, internal defaults are used.</p></td>
</tr>
</tbody>
</table>
<p>In addition to the parameters listed above, the following additional parameter will apply when the <a class="reference internal" href="../../data/database/jndi.html#data-jndi"><span class="std std-ref">JNDI</span></a> flag is set.</p>
<div class="figure align-center" id="id4">
<img alt="../../_images/ugr_ugjdbcjndisettings.png" src="../../_images/ugr_ugjdbcjndisettings.png" />
<p class="caption"><span class="caption-text"><em>Adding a user/group service via JDBC with JNDI</em></span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>JNDI resource name</p></td>
<td><p>JNDI name used to locate the database connection.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="add-new-ldap-user-group-service">
<h2>Add new LDAP user/group service<a class="headerlink" href="#add-new-ldap-user-group-service" title="Permalink to this headline">¶</a></h2>
<p>To add a new LDAP user/group service, click the <span class="guilabel">Add new</span> link, and then the <span class="guilabel">LDAP</span> option at the top of the following form. The following figure shows the configuration options for a LDAP user/group service.</p>
<div class="figure align-center" id="id5">
<img alt="../../_images/ldap_group_service.png" src="../../_images/ldap_group_service.png" />
<p class="caption"><span class="caption-text"><em>Adding a user/group service via LDAP</em></span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Name</p></td>
<td><p>Name of the LDAP role service in GeoServer</p></td>
</tr>
<tr class="row-odd"><td><p>Password encryption</p></td>
<td><p>The method to used to <a class="reference internal" href="../passwd.html#security-passwd-encryption"><span class="std std-ref">encrypt user passwords</span></a></p></td>
</tr>
<tr class="row-even"><td><p>Password policy</p></td>
<td><p>The <a class="reference internal" href="../passwd.html#security-passwd-policy"><span class="std std-ref">policy</span></a> to use to enforce constraints on user passwords</p></td>
</tr>
<tr class="row-odd"><td><p>Server URL</p></td>
<td><p>URL for the LDAP server connection. It must include the protocol, host, and port, as well as the “distinguished name” (DN) for the root of the LDAP tree.</p></td>
</tr>
<tr class="row-even"><td><p>TLS</p></td>
<td><p>Enables a STARTTLS connection. (See the section on <a class="reference internal" href="../auth/providers.html#security-auth-provider-ldap-secure"><span class="std std-ref">Secure LDAP connections</span></a>.)</p></td>
</tr>
<tr class="row-odd"><td><p>Group search base</p></td>
<td><p>Relative name of the node in the tree to use as the base for LDAP groups. Example: <code class="docutils literal notranslate"><span class="pre">ou=groups</span></code>. The root DN specified as port of the <em>Server URL</em> is automatically appended.</p></td>
</tr>
<tr class="row-even"><td><p>Filter to search all groups</p></td>
<td><p>Sets the LDAP filter for search all groups available. Leave blank to derive from attribute.</p></td>
</tr>
<tr class="row-odd"><td><p>Filter to search group by name</p></td>
<td><p>Sets the LDAP filter for search a group by its name. Leave blank to derive from attribute.</p></td>
</tr>
<tr class="row-even"><td><p>Attribute which contains the name of the group</p></td>
<td><p>Sets attribute containing the group name.  Leave blank to derive from name filter.</p></td>
</tr>
<tr class="row-odd"><td><p>Query format to retrieve the user/group mapping</p></td>
<td><p>Query format used for mapping user/group memberships.  Leave blank to derive from attribute.  This may contain some placeholder values:</p>
<p><code class="docutils literal notranslate"><span class="pre">{0}</span></code>, the <code class="docutils literal notranslate"><span class="pre">username</span></code> of the user, for example <code class="docutils literal notranslate"><span class="pre">bob</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">{1}</span></code>, the  full DN of the user, for example <code class="docutils literal notranslate"><span class="pre">uid=bob,ou=users</span></code>.</p>
</td>
</tr>
<tr class="row-even"><td><p>Attribute name to retrieve the user/group mapping</p></td>
<td><p>Attribute name used for mapping user/group memberships.  Leave blank to derive from filter.</p></td>
</tr>
<tr class="row-odd"><td><p>User search base</p></td>
<td><p>LDAP search base for users.</p></td>
</tr>
<tr class="row-even"><td><p>Filter to search all users</p></td>
<td><p>Sets the filter for search all available users.  Leave blank to derive from attribute.</p></td>
</tr>
<tr class="row-odd"><td><p>Filter to search user by name</p></td>
<td><p>Sets the filter format for search a user by its name.  Leave blank to derive from attribute.</p></td>
</tr>
<tr class="row-even"><td><p>Attribute which contains the name of the user</p></td>
<td><p>Sets the attribute containing the name for users. Leave blank to derive from name filter.</p></td>
</tr>
<tr class="row-odd"><td><p>List of attributes to populate</p></td>
<td><p>Sets a comma separated list of attributes to populate on users.</p></td>
</tr>
<tr class="row-even"><td><p>Authenticated onto the LDAP before querying</p></td>
<td><p>When checked all LDAP searches will be done in authenticated mode, using the credentials given with the <em>Username</em> and <em>Password</em> options</p></td>
</tr>
<tr class="row-odd"><td><p>Username</p></td>
<td><p>Username to use when connecting to the LDAP server. Only applicable when the <em>Authenticated onto the LDAP before querying</em> parameter is <strong>checked</strong>.</p></td>
</tr>
<tr class="row-even"><td><p>Password</p></td>
<td><p>Password to use when connecting to the LDAP server. Only applicable when the <em>Authenticated onto the LDAP before querying</em> parameter is <strong>checked</strong>.</p></td>
</tr>
<tr class="row-odd"><td><p>Enable Hierarchical groups search</p></td>
<td><p>When checked all LDAP group searches will use hierarchical mode, retrieving LDAP parent groups too.</p></td>
</tr>
<tr class="row-even"><td><p>Max depth for hierarchical groups search</p></td>
<td><p>Max depth number for hierarchical LDAP groups search, use -1 for infinite depth. Only applicable when the <em>Enable Hierarchical groups search</em> parameter is <strong>checked</strong>.</p></td>
</tr>
<tr class="row-odd"><td><p>Nested group search filter</p></td>
<td><p>LDAP search pattern for searching parent groups. Only applicable when the <em>Enable Hierarchical groups search</em> parameter is <strong>checked</strong>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="edit-user-group-service">
<h2>Edit user/group service<a class="headerlink" href="#edit-user-group-service" title="Permalink to this headline">¶</a></h2>
<p>Once the new user/group service is added (either XML or JDBC), clicking on it in the list of user/group services will allow additional options to be specified, such as the users and groups associated with the service.</p>
<p>There are three tabs in the resulting menu: <span class="guilabel">Settings</span>, <span class="guilabel">Users</span>, and <span class="guilabel">Groups</span>. The Settings tab is identical to that found when creating the user/group service, while the others are described below.</p>
<p>The Users tab provides options to configure users in the user/group service.</p>
<div class="figure align-center" id="id6">
<img alt="../../_images/ugr_ugusers.png" src="../../_images/ugr_ugusers.png" />
<p class="caption"><span class="caption-text"><em>Users tab</em></span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>Clicking a username will allow its parameters to be changed, while clicking the <span class="guilabel">Add new</span> link will create a new user.</p>
<div class="section" id="add-user">
<span id="security-webadmin-users"></span><h3>Add user<a class="headerlink" href="#add-user" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id7">
<img alt="../../_images/ugr_newuser.png" src="../../_images/ugr_newuser.png" />
<p class="caption"><span class="caption-text"><em>Creating or editing a user</em></span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>User name</p></td>
<td><p>The name of the user</p></td>
</tr>
<tr class="row-odd"><td><p>Enabled</p></td>
<td><p>When selected, will enable the user to authenticate</p></td>
</tr>
<tr class="row-even"><td><p>Password</p></td>
<td><p>The password for this user. Existing passwords will be obscured when viewed.</p></td>
</tr>
<tr class="row-odd"><td><p>Confirm password</p></td>
<td><p>To set or change the password enter the password twice.</p></td>
</tr>
<tr class="row-even"><td><p>User properties</p></td>
<td><p>Key/value pairs associated with the user. Used for associating additional information with the user.</p></td>
</tr>
<tr class="row-odd"><td><p>Group list</p></td>
<td><p>Full list of groups, including list of groups to which the user is a member. Membership can be toggled here via the arrow buttons.</p></td>
</tr>
<tr class="row-even"><td><p>Add a new group</p></td>
<td><p>Shortcut to adding a new group. Also available in the Groups tab.</p></td>
</tr>
<tr class="row-odd"><td><p>Role list</p></td>
<td><p>Full list of roles, including a list of roles to which the user is associated. Association can be toggled here via the arrow buttons.</p></td>
</tr>
<tr class="row-even"><td><p>Add a new role</p></td>
<td><p>Shortcut to adding a new role</p></td>
</tr>
<tr class="row-odd"><td><p>List of current roles for the user</p></td>
<td><p>List of current roles associated with the user. Click a role to enable editing.</p></td>
</tr>
</tbody>
</table>
<p>The Groups tab provides configuration options for groups in this user/group service. There are options to add and remove a group, with an additional option to remove a group and the roles associated with that group.</p>
<div class="figure align-center" id="id8">
<img alt="../../_images/ugr_uggroups.png" src="../../_images/ugr_uggroups.png" />
<p class="caption"><span class="caption-text"><em>Groups tab</em></span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="add-group">
<span id="security-webadmin-groups"></span><h3>Add group<a class="headerlink" href="#add-group" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id9">
<img alt="../../_images/ugr_newgroup.png" src="../../_images/ugr_newgroup.png" />
<p class="caption"><span class="caption-text"><em>Creating or editing a group</em></span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Group name</p></td>
<td><p>The name of the group</p></td>
</tr>
<tr class="row-odd"><td><p>Enabled</p></td>
<td><p>When selected the group will be active</p></td>
</tr>
<tr class="row-even"><td><p>Role list</p></td>
<td><p>Full list of roles, including a list of roles to which the group is associated. Association can be toggled here via the arrow buttons.</p></td>
</tr>
<tr class="row-odd"><td><p>Add a new role</p></td>
<td><p>Shortcut to adding a new role</p></td>
</tr>
</tbody>
</table>
<p>In this menu, user/group services can be added, removed, or edited. By default, there is one user/group service in GeoServer, which is <a class="reference internal" href="../usergrouprole/usergroupservices.html#security-rolesystem-usergroupxml"><span class="std std-ref">XML-based</span></a>. It is encrypted with <a class="reference internal" href="../passwd.html#security-passwd-encryption"><span class="std std-ref">Weak PBE</span></a> and uses the default <a class="reference internal" href="../passwd.html#security-passwd-policy"><span class="std std-ref">password policy</span></a>. It is also possible to have a user/group service based on <a class="reference internal" href="../usergrouprole/usergroupservices.html#security-rolesystem-usergroupjdbc"><span class="std std-ref">JDBC</span></a> with or without JNDI.</p>
</div>
</div>
<div class="section" id="role-services">
<span id="security-webadmin-roleservices"></span><h2>Role services<a class="headerlink" href="#role-services" title="Permalink to this headline">¶</a></h2>
<p>In this menu, role services can be added, removed, or edited. By default, the active role service in GeoServer is <a class="reference internal" href="../usergrouprole/roleservices.html#security-rolesystem-rolexml"><span class="std std-ref">XML-based</span></a>, but it is also possible to have a role service based on <a class="reference internal" href="../usergrouprole/roleservices.html#security-rolesystem-rolejdbc"><span class="std std-ref">JDBC</span></a>, with or without JNDI.</p>
<p>The Administrator role is called <code class="docutils literal notranslate"><span class="pre">ROLE_ADMINISTRATOR</span></code>.</p>
<div class="figure align-center" id="id10">
<img alt="../../_images/ugr_roleservices.png" src="../../_images/ugr_roleservices.png" />
<p class="caption"><span class="caption-text"><em>Role services</em></span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<p>Clicking an existing role service will open it for editing, while clicking the <span class="guilabel">Add new</span> link will configure a new role service.</p>
<p>There are two pages for configuration:  Settings and Roles.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When creating a new role service, the form filled out initially can be found under the Settings tab.</p>
</div>
</div>
<div class="section" id="add-new-xml-role-service">
<h2>Add new XML role service<a class="headerlink" href="#add-new-xml-role-service" title="Permalink to this headline">¶</a></h2>
<p>To add a new XML role service, click the <span class="guilabel">Add new</span> link. XML is the default option. The following figure shows the configuration options for an XML role service.</p>
<div class="figure align-center" id="id11">
<img alt="../../_images/ugr_rolexmlsettings.png" src="../../_images/ugr_rolexmlsettings.png" />
<p class="caption"><span class="caption-text"><em>Adding an XML role service</em></span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Name</p></td>
<td><p>The name of the role service</p></td>
</tr>
<tr class="row-odd"><td><p>Administrator role</p></td>
<td><p>The name of the role that performs the administrator functions</p></td>
</tr>
<tr class="row-even"><td><p>XML filename</p></td>
<td><p>Name of the file that will contain the role information. Default is <code class="file docutils literal notranslate"><span class="pre">roles.xml</span></code> in the <code class="docutils literal notranslate"><span class="pre">security/role/&lt;name_of_roleservice&gt;</span></code> directory.</p></td>
</tr>
<tr class="row-odd"><td><p>File reload interval</p></td>
<td><p>Defines the frequency (in milliseconds) in which GeoServer will check for changes to the XML file. If the file is found to have been modified, GeoServer will recreate the user/group database based on the current state of the file. This value is meant to be set in cases where the XML file contents might change “out of process” and not directly through the web admin interface. The value is specified in milliseconds. A value of 0 disables any checking of the file.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="add-new-jdbc-role-service">
<h2>Add new JDBC role service<a class="headerlink" href="#add-new-jdbc-role-service" title="Permalink to this headline">¶</a></h2>
<p>To add a new XML role service, click the <span class="guilabel">Add new</span> link, and then the <span class="guilabel">JDBC</span> option at the top of the following form. The following figure shows the configuration options for a JDBC role service.</p>
<div class="figure align-center" id="id12">
<img alt="../../_images/ugr_rolejdbcsettings.png" src="../../_images/ugr_rolejdbcsettings.png" />
<p class="caption"><span class="caption-text"><em>Adding a role service via JDBC</em></span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Name</p></td>
<td><p>Name of the JDBC role service in GeoServer</p></td>
</tr>
<tr class="row-odd"><td><p>Administrator role</p></td>
<td><p>The name of the role that performs the administrator function</p></td>
</tr>
<tr class="row-even"><td><p>JNDI</p></td>
<td><p>When unchecked, specifies a direct connection to the database. When checked, specifies an existing connection located through <a class="reference internal" href="../../data/database/jndi.html#data-jndi"><span class="std std-ref">JNDI</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>Driver class name</p></td>
<td><p>JDBC driver to use for the database connection</p></td>
</tr>
<tr class="row-even"><td><p>Connection URL</p></td>
<td><p>Specifies the JDBC URL to use when creating the database connection</p></td>
</tr>
<tr class="row-odd"><td><p>Username</p></td>
<td><p>Username to use when connecting to the database</p></td>
</tr>
<tr class="row-even"><td><p>Password</p></td>
<td><p>Password to use when connecting to the database</p></td>
</tr>
<tr class="row-odd"><td><p>Create database tables</p></td>
<td><p>Specifies whether to create all the necessary tables in the underlying database</p></td>
</tr>
<tr class="row-even"><td><p>Data Definition Language (DDL) file</p></td>
<td><p>Specifies a custom DDL file to use for creating tables in the underlying database, for cases where the default DDL statements fail on the given database. If left blank, internal defaults are used.</p></td>
</tr>
<tr class="row-odd"><td><p>Data Manipulation Language (DML) file</p></td>
<td><p>Specifies a custom DML file to use for accessing tables in the underlying database, for cases where the default DML statements fail on the given database. If left blank, internal defaults are used.</p></td>
</tr>
</tbody>
</table>
<p>In addition to the parameters listed above, the following additional parameter will apply when the <a class="reference internal" href="../../data/database/jndi.html#data-jndi"><span class="std std-ref">JNDI</span></a> flag is set.</p>
<div class="figure align-center" id="id13">
<img alt="../../_images/ugr_rolejdbcjndisettings.png" src="../../_images/ugr_rolejdbcjndisettings.png" />
<p class="caption"><span class="caption-text"><em>Adding a role service via JDBC with JNDI</em></span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>JNDI resource name</p></td>
<td><p>JNDI name used to locate the database connection.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="add-new-ldap-role-service">
<h2>Add new LDAP role service<a class="headerlink" href="#add-new-ldap-role-service" title="Permalink to this headline">¶</a></h2>
<p>To add a new LDAP role service, click the <span class="guilabel">Add new</span> link, and then the <span class="guilabel">LDAP</span> option at the top of the following form. The following figure shows the configuration options for a LDAP role service.</p>
<div class="figure align-center" id="id14">
<img alt="../../_images/ldap_role_empty.png" src="../../_images/ldap_role_empty.png" />
<p class="caption"><span class="caption-text"><em>Adding a role service via LDAP</em></span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Name</p></td>
<td><p>Name of the LDAP role service in GeoServer</p></td>
</tr>
<tr class="row-odd"><td><p>Administrator role</p></td>
<td><p>The name of the role that performs the administrator function</p></td>
</tr>
<tr class="row-even"><td><p>Group administrator role</p></td>
<td><p>The name of the role that performs the group administrator function</p></td>
</tr>
<tr class="row-odd"><td><p>Server URL</p></td>
<td><p>URL for the LDAP server connection. It must include the protocol, host, and port, as well as the “distinguished name” (DN) for the root of the LDAP tree.</p></td>
</tr>
<tr class="row-even"><td><p>TLS</p></td>
<td><p>Enables a STARTTLS connection. (See the section on <a class="reference internal" href="../auth/providers.html#security-auth-provider-ldap-secure"><span class="std std-ref">Secure LDAP connections</span></a>.)</p></td>
</tr>
<tr class="row-odd"><td><p>Group search base</p></td>
<td><p>Relative name of the node in the tree to use as the base for LDAP groups. Example: <code class="docutils literal notranslate"><span class="pre">ou=groups</span></code>. The root DN specified as port of the <em>Server URL</em> is automatically appended.</p></td>
</tr>
<tr class="row-even"><td><p>Group user membership search filter</p></td>
<td><p>Search pattern for extracting users of a LDAP group a user belongs to. This may contain some placeholder values:
<code class="docutils literal notranslate"><span class="pre">{0}</span></code>, the <code class="docutils literal notranslate"><span class="pre">username</span></code> of the user, for example <code class="docutils literal notranslate"><span class="pre">bob</span></code>.
<code class="docutils literal notranslate"><span class="pre">{1}</span></code>, the  full DN of the user, for example <code class="docutils literal notranslate"><span class="pre">uid=bob,ou=users</span></code>. To use this placeholder, the <em>Filter used to lookup user</em> needs to be defined, so that the dn of a user can be extracted from its username.</p></td>
</tr>
<tr class="row-odd"><td><p>All groups search filter</p></td>
<td><p>Search pattern for locating the LDAP groups to be mapped to GeoServer roles inside the <em>Group search base</em> root node</p></td>
</tr>
<tr class="row-even"><td><p>Filter used to lookup user.</p></td>
<td><p>optional filter used to extract a user dn, to be used together with <em>Group user membership search filter</em> when the {1} placeholder is specified. This may contain a placeholder value:
<code class="docutils literal notranslate"><span class="pre">{0}</span></code>, the <code class="docutils literal notranslate"><span class="pre">username</span></code> of the user, for example <code class="docutils literal notranslate"><span class="pre">bob</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>Authenticate to extract roles</p></td>
<td><p>When checked all LDAP searches will be done in authenticated mode, using the credentials given with the <em>Username</em> and <em>Password</em> options</p></td>
</tr>
<tr class="row-even"><td><p>Username</p></td>
<td><p>Username to use when connecting to the LDAP server. Only applicable when the <em>Authenticate to extract roles</em> parameter is <strong>checked</strong>.</p></td>
</tr>
<tr class="row-odd"><td><p>Password</p></td>
<td><p>Password to use when connecting to the LDAP server. Only applicable when the <em>Authenticate to extract roles</em> parameter is <strong>checked</strong>.</p></td>
</tr>
<tr class="row-even"><td><p>Enable Hierarchical groups search</p></td>
<td><p>When checked all LDAP group searches will use hierarchical mode, retrieving LDAP parent groups too.</p></td>
</tr>
<tr class="row-odd"><td><p>Max depth for hierarchical groups search</p></td>
<td><p>Max depth number for hierarchical LDAP groups search, use -1 for infinite depth. Only applicable when the <em>Enable Hierarchical groups search</em> parameter is <strong>checked</strong>.</p></td>
</tr>
<tr class="row-even"><td><p>Nested group search filter</p></td>
<td><p>LDAP search pattern for searching parent groups. Only applicable when the <em>Enable Hierarchical groups search</em> parameter is <strong>checked</strong>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="edit-role-service">
<h2>Edit role service<a class="headerlink" href="#edit-role-service" title="Permalink to this headline">¶</a></h2>
<p>Once the new role service is added (either XML or JDBC), clicking it in the list of role services will allow the additional options to be specified, such as the roles associated with the service.</p>
<p>There are two tabs in the resulting menu: <span class="guilabel">Settings</span> and <span class="guilabel">Roles</span>. The Settings tab is identical to that found when creating the role service, while the Roles tab is described below.</p>
<div class="figure align-center" id="id15">
<img alt="../../_images/ugr_roleroles.png" src="../../_images/ugr_roleroles.png" />
<p class="caption"><span class="caption-text"><em>Roles tab</em></span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
<p>Clicking a role will allow its parameters to be changed, while clicking the <span class="guilabel">Add new</span> link will create a new role.</p>
<div class="section" id="add-role">
<span id="security-webadmin-roles"></span><h3>Add role<a class="headerlink" href="#add-role" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id16">
<img alt="../../_images/ugr_newrole.png" src="../../_images/ugr_newrole.png" />
<p class="caption"><span class="caption-text"><em>Creating or editing a role</em></span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Role name</p></td>
<td><p>The name of role. Convention is uppercase, but is not required.</p></td>
</tr>
<tr class="row-odd"><td><p>Parent roles</p></td>
<td><p>The role that this role inherits. See the section on <a class="reference internal" href="../usergrouprole/roles.html#security-rolesystem-roles"><span class="std std-ref">Roles</span></a> for more information on inheritance.</p></td>
</tr>
<tr class="row-even"><td><p>Role parameters</p></td>
<td><p>Key/value pairs associated with the role. Used for associating additional information with the role.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="passwords.html" title="previous chapter">Passwords</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="data.html" title="next chapter">Data</a></div>
      </div>
      </div><!-- /#content> -->
      <div id="content-right" class="content-border"></div>
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Users, Groups, Roles</a><ul>
<li><a class="reference internal" href="#user-group-services">User Group Services</a></li>
<li><a class="reference internal" href="#add-new-xml-user-group-service">Add new XML user/group service</a></li>
<li><a class="reference internal" href="#add-new-jdbc-user-group-service">Add new JDBC user/group service</a></li>
<li><a class="reference internal" href="#add-new-ldap-user-group-service">Add new LDAP user/group service</a></li>
<li><a class="reference internal" href="#edit-user-group-service">Edit user/group service</a><ul>
<li><a class="reference internal" href="#add-user">Add user</a></li>
<li><a class="reference internal" href="#add-group">Add group</a></li>
</ul>
</li>
<li><a class="reference internal" href="#role-services">Role services</a></li>
<li><a class="reference internal" href="#add-new-xml-role-service">Add new XML role service</a></li>
<li><a class="reference internal" href="#add-new-jdbc-role-service">Add new JDBC role service</a></li>
<li><a class="reference internal" href="#add-new-ldap-role-service">Add new LDAP role service</a></li>
<li><a class="reference internal" href="#edit-role-service">Edit role service</a><ul>
<li><a class="reference internal" href="#add-role">Add role</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="passwords.html" title="previous chapter">Passwords</a></li>
            <li>Next: <a href="data.html" title="next chapter">Data</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
                
        <li><a href="https://github.com/geoserver/geoserver/tree/master/doc/en/user/source/security/webadmin/ugr.rst">Edit</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2021, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    Last updated on Jul 20, 2021.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>