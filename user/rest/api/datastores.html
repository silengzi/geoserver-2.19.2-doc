<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Data stores &mdash; GeoServer 2.19.2 User Manual</title>
  <link rel="stylesheet" href="../../static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.19.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../static/jquery.js"></script>
  <script type="text/javascript" src="../../static/doctools.js"></script>
  <script type="text/javascript" src="../../static/searchtools.js"></script>
  <script type="text/javascript" src="../../searchindex.js"></script>
  <link rel="shortcut icon" href="../../static/geoserver.ico"/>
      <link rel="search" title="Search" href="../../search.html" />
      <link rel="top" title="GeoServer 2.19.2 User Manual" href="../../index.html" />
      <link rel="up" title="REST configuration API reference" href="index.html" />
      <link rel="next" title="Feature types" href="featuretypes.html" />
      <link rel="prev" title="Namespaces" href="namespaces.html" />
</head>
<body class="rest/api/datastores">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../index.html">GeoServer 2.19.2 User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/about">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/download">Download</a></li>
        <!--<li><a href="../../index.html">Documentation</a></li>-->
      </ul>
        <form id="quick-search" action="../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content-left" class="content-border"></div>
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../index.html">GeoServer 2.19.2 User Manual</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">REST</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">REST configuration API reference</a> &raquo;</li>
  <li>Data stores</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../../py-modindex.html" title="Python Module Index"
       accesskey="">modules</a></li>
  <li>
    <a href="featuretypes.html" title="Feature types"
       accesskey="N">next</a>|</li>
  <li>
    <a href="namespaces.html" title="Namespaces"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="data-stores">
<span id="rest-api-datastores"></span><h1>Data stores<a class="headerlink" href="#data-stores" title="Permalink to this headline">¶</a></h1>
<p>A <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">store</span></code> contains vector format spatial data. It can be a file (such as a shapefile), a database (such as PostGIS), or a server (such as a <a class="reference internal" href="../../data/cascaded/wfs.html#data-external-wfs"><span class="std std-ref">remote Web Feature Service</span></a>).</p>
<div class="section" id="workspaces-ws-datastores-format">
<h2><code class="docutils literal notranslate"><span class="pre">/workspaces/&lt;ws&gt;/datastores[.&lt;format&gt;]</span></code><a class="headerlink" href="#workspaces-ws-datastores-format" title="Permalink to this headline">¶</a></h2>
<p>Controls all data stores in a given workspace.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Action</p></th>
<th class="head"><p>Status code</p></th>
<th class="head"><p>Formats</p></th>
<th class="head"><p>Default Format</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GET</p></td>
<td><p>List all data stores in workspace <code class="docutils literal notranslate"><span class="pre">ws</span></code></p></td>
<td><p>200</p></td>
<td><p>HTML, XML, JSON</p></td>
<td><p>HTML</p></td>
</tr>
<tr class="row-odd"><td><p>POST</p></td>
<td><p>Create a new data store</p></td>
<td><p>201 with <code class="docutils literal notranslate"><span class="pre">Location</span></code> header</p></td>
<td><p>XML, JSON</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PUT</p></td>
<td></td>
<td><p>405</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>DELETE</p></td>
<td></td>
<td><p>405</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="workspaces-ws-datastores-ds-format">
<h2><code class="docutils literal notranslate"><span class="pre">/workspaces/&lt;ws&gt;/datastores/&lt;ds&gt;[.&lt;format&gt;]</span></code><a class="headerlink" href="#workspaces-ws-datastores-ds-format" title="Permalink to this headline">¶</a></h2>
<p>Controls a particular data store in a given workspace.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Action</p></th>
<th class="head"><p>Status code</p></th>
<th class="head"><p>Formats</p></th>
<th class="head"><p>Default Format</p></th>
<th class="head"><p>Parameters</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GET</p></td>
<td><p>Return data store <code class="docutils literal notranslate"><span class="pre">ds</span></code></p></td>
<td><p>200</p></td>
<td><p>HTML, XML, JSON</p></td>
<td><p>HTML</p></td>
<td><p><a class="reference internal" href="#rest-api-datastores-quietonnotfound"><span class="std std-ref">quietOnNotFound</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>POST</p></td>
<td></td>
<td><p>405</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PUT</p></td>
<td><p>Modify data store <code class="docutils literal notranslate"><span class="pre">ds</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>DELETE</p></td>
<td><p>Delete data store <code class="docutils literal notranslate"><span class="pre">ds</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td><p><a class="reference internal" href="#rest-api-datastores-recurse"><span class="std std-ref">recurse</span></a></p></td>
</tr>
</tbody>
</table>
<div class="section" id="exceptions">
<h3>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Exception</p></th>
<th class="head"><p>Status code</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GET for a data store that does not exist</p></td>
<td><p>404</p></td>
</tr>
<tr class="row-odd"><td><p>PUT that changes name of data store</p></td>
<td><p>403</p></td>
</tr>
<tr class="row-even"><td><p>PUT that changes workspace of data store</p></td>
<td><p>403</p></td>
</tr>
<tr class="row-odd"><td><p>DELETE against a data store that contains configured feature types</p></td>
<td><p>403</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<div class="section" id="recurse">
<span id="rest-api-datastores-recurse"></span><h4><code class="docutils literal notranslate"><span class="pre">recurse</span></code><a class="headerlink" href="#recurse" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">recurse</span></code> parameter recursively deletes all layers referenced by the specified data store. Allowed values for this parameter are “true” or “false”. The default value is “false”.</p>
</div>
<div class="section" id="quietonnotfound">
<span id="rest-api-datastores-quietonnotfound"></span><h4><code class="docutils literal notranslate"><span class="pre">quietOnNotFound</span></code><a class="headerlink" href="#quietonnotfound" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">quietOnNotFound</span></code> parameter avoids to log an Exception when the data store is not present. Note that 404 status code will be returned anyway.</p>
</div>
</div>
</div>
<div class="section" id="workspaces-ws-datastores-ds-file-url-external-extension">
<h2><code class="docutils literal notranslate"><span class="pre">/workspaces/&lt;ws&gt;/datastores/&lt;ds&gt;/[file|url|external][.&lt;extension&gt;]</span></code><a class="headerlink" href="#workspaces-ws-datastores-ds-file-url-external-extension" title="Permalink to this headline">¶</a></h2>
<p>These endpoints (<code class="docutils literal notranslate"><span class="pre">file</span></code>, <code class="docutils literal notranslate"><span class="pre">url</span></code>, and <code class="docutils literal notranslate"><span class="pre">external</span></code>) allow a file containing either spatial data or a mapping configuration (in case an app-schema data store is targeted), to be added (via a PUT request) into an existing data store, or will create a new data store if it doesn’t already exist. The three endpoints are used to specify the method that is used to upload the file:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file</span></code>—Uploads a file from a local source. The body of the request is the file itself.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">url</span></code>—Uploads a file from an remote source. The body of the request is a URL pointing to the file to upload. This URL must be visible from the server.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">external</span></code>—Uses an existing file on the server. The body of the request is the absolute path to the existing file.</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Action</p></th>
<th class="head"><p>Status code</p></th>
<th class="head"><p>Formats</p></th>
<th class="head"><p>Default Format</p></th>
<th class="head"><p>Parameters</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GET</p></td>
<td><p><em>Deprecated</em>. Retrieve the underlying files for the data store as a zip file with MIME type <code class="docutils literal notranslate"><span class="pre">application/zip</span></code></p></td>
<td><p>200</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>POST</p></td>
<td></td>
<td><p>405</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PUT</p></td>
<td><p>Uploads files to the data store <code class="docutils literal notranslate"><span class="pre">ds</span></code>, creating it if necessary</p></td>
<td><p>200</p></td>
<td><p><a class="reference internal" href="#rest-api-datastores-file-put"><span class="std std-ref">See note below</span></a></p></td>
<td></td>
<td><p><a class="reference internal" href="#rest-api-datastores-configure"><span class="std std-ref">configure</span></a>, <a class="reference internal" href="#rest-api-datastores-target"><span class="std std-ref">target</span></a>, <a class="reference internal" href="#rest-api-datastores-update"><span class="std std-ref">update</span></a>, <a class="reference internal" href="#rest-api-datastores-charset"><span class="std std-ref">charset</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>DELETE</p></td>
<td></td>
<td><p>405</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="section" id="id1">
<h3>Exceptions<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Exception</p></th>
<th class="head"><p>Status code</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GET for a data store that does not exist</p></td>
<td><p>404</p></td>
</tr>
<tr class="row-odd"><td><p>GET for a data store that is not file based</p></td>
<td><p>404</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id2">
<h3>Parameters<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="extension">
<h4><code class="docutils literal notranslate"><span class="pre">extension</span></code><a class="headerlink" href="#extension" title="Permalink to this headline">¶</a></h4>
<p id="rest-api-datastores-extension">The <code class="docutils literal notranslate"><span class="pre">extension</span></code> parameter specifies the type of data being uploaded. The following extensions are supported:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Extension</p></th>
<th class="head"><p>Datastore</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>shp</p></td>
<td><p>Shapefile</p></td>
</tr>
<tr class="row-odd"><td><p>properties</p></td>
<td><p>Property file</p></td>
</tr>
<tr class="row-even"><td><p>h2</p></td>
<td><p>H2 Database</p></td>
</tr>
<tr class="row-odd"><td><p>appschema</p></td>
<td><p>App-schema mapping configuration</p></td>
</tr>
</tbody>
</table>
<div class="admonition note" id="rest-api-datastores-file-put">
<p class="admonition-title">Note</p>
<p>A file can be PUT to a data store as a standalone or zipped archive file. Standalone files are only suitable for data stores that work with a single file such as a GML store. Data stores that work with multiple files, such as the shapefile store, must be sent as a zip archive.</p>
<p>When uploading a standalone file, set the <code class="docutils literal notranslate"><span class="pre">Content-type</span></code> appropriately based on the file type. If you are loading a zip archive, set the <code class="docutils literal notranslate"><span class="pre">Content-type</span></code> to <code class="docutils literal notranslate"><span class="pre">application/zip</span></code>.</p>
</div>
<div class="admonition note" id="rest-api-datastores-file-put-appschema">
<p class="admonition-title">Note</p>
<p>The app-schema mapping configuration can either be uploaded as a single file, or split in multiple files for reusability and/or mapping constraints (e.g. multiple mappings of the same feature type are needed). If multiple mapping files are uploaded as a zip archive, the extension of the main mapping file (the one including the others via the <code class="docutils literal notranslate"><span class="pre">&lt;includedTypes&gt;</span></code> tag) must be <code class="docutils literal notranslate"><span class="pre">.appschema</span></code>, otherwise it will not be recognized as the data store’s primary file and publishing will fail.</p>
<p>The application schemas (XSD files) required to define the mapping can be added to the zip archive and uploaded along with the mapping configuration. All files contained in the archive are uploaded to the same folder, so the path to the secondary mapping files and the application schemas, as specified in the main mapping file, is simply the file name of the included resource.</p>
</div>
</div>
<div class="section" id="configure">
<span id="rest-api-datastores-configure"></span><h4><code class="docutils literal notranslate"><span class="pre">configure</span></code><a class="headerlink" href="#configure" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">configure</span></code> parameter controls how the data store is configured upon file upload. It can take one of the three values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">first</span></code>—(<em>Default</em>) Only setup the first feature type available in the data store.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">none</span></code>—Do not configure any feature types.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">all</span></code>—Configure all feature types.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When uploading an app-schema mapping configuration, only the feature types mapped in the main mapping file are considered to be top level features and will be automatically configured when <code class="docutils literal notranslate"><span class="pre">configure=all</span></code> or <code class="docutils literal notranslate"><span class="pre">configure=first</span></code> is specified.</p>
</div>
</div>
<div class="section" id="target">
<span id="rest-api-datastores-target"></span><h4><code class="docutils literal notranslate"><span class="pre">target</span></code><a class="headerlink" href="#target" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">target</span></code> parameter determines what format or storage engine will be used when a new data store is created on the server for uploaded data. When importing data into an existing data store, it is ignored. The allowed values for this parameter are the same as for the <a class="reference internal" href="#rest-api-datastores-extension"><span class="std std-ref">extension parameter</span></a>, except for <code class="docutils literal notranslate"><span class="pre">appschema</span></code>, which doesn’t make sense in this context.</p>
</div>
<div class="section" id="update">
<span id="rest-api-datastores-update"></span><h4><code class="docutils literal notranslate"><span class="pre">update</span></code><a class="headerlink" href="#update" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">update</span></code> parameter controls how existing data is handled when the file is PUT into a data store that already exists and already contains a schema that matches the content of the file. The parameter accepts one of the following values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">append</span></code>—Data being uploaded is appended to the existing data. This is the default.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overwrite</span></code>—Data being uploaded replaces any existing data.</p></li>
</ul>
<p>The parameter is ignored for app-schema data stores, which are read-only.</p>
</div>
<div class="section" id="charset">
<span id="rest-api-datastores-charset"></span><h4><code class="docutils literal notranslate"><span class="pre">charset</span></code><a class="headerlink" href="#charset" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">charset</span></code> parameter specifies the character encoding of the file being uploaded (such as “ISO-8559-1”).</p>
</div>
</div>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="namespaces.html" title="previous chapter">Namespaces</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="featuretypes.html" title="next chapter">Feature types</a></div>
      </div>
      </div><!-- /#content> -->
      <div id="content-right" class="content-border"></div>
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Data stores</a><ul>
<li><a class="reference internal" href="#workspaces-ws-datastores-format"><code class="docutils literal notranslate"><span class="pre">/workspaces/&lt;ws&gt;/datastores[.&lt;format&gt;]</span></code></a></li>
<li><a class="reference internal" href="#workspaces-ws-datastores-ds-format"><code class="docutils literal notranslate"><span class="pre">/workspaces/&lt;ws&gt;/datastores/&lt;ds&gt;[.&lt;format&gt;]</span></code></a><ul>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li><a class="reference internal" href="#parameters">Parameters</a><ul>
<li><a class="reference internal" href="#recurse"><code class="docutils literal notranslate"><span class="pre">recurse</span></code></a></li>
<li><a class="reference internal" href="#quietonnotfound"><code class="docutils literal notranslate"><span class="pre">quietOnNotFound</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#workspaces-ws-datastores-ds-file-url-external-extension"><code class="docutils literal notranslate"><span class="pre">/workspaces/&lt;ws&gt;/datastores/&lt;ds&gt;/[file|url|external][.&lt;extension&gt;]</span></code></a><ul>
<li><a class="reference internal" href="#id1">Exceptions</a></li>
<li><a class="reference internal" href="#id2">Parameters</a><ul>
<li><a class="reference internal" href="#extension"><code class="docutils literal notranslate"><span class="pre">extension</span></code></a></li>
<li><a class="reference internal" href="#configure"><code class="docutils literal notranslate"><span class="pre">configure</span></code></a></li>
<li><a class="reference internal" href="#target"><code class="docutils literal notranslate"><span class="pre">target</span></code></a></li>
<li><a class="reference internal" href="#update"><code class="docutils literal notranslate"><span class="pre">update</span></code></a></li>
<li><a class="reference internal" href="#charset"><code class="docutils literal notranslate"><span class="pre">charset</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="namespaces.html" title="previous chapter">Namespaces</a></li>
            <li>Next: <a href="featuretypes.html" title="next chapter">Feature types</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
                
        <li><a href="https://github.com/geoserver/geoserver/tree/master/doc/en/user/source/rest/api/datastores.rst">Edit</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2021, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    Last updated on Jul 20, 2021.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>