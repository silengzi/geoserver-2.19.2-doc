<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Configuration Considerations &mdash; GeoServer 2.19.2 User Manual</title>
  <link rel="stylesheet" href="../static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../static/default.css" type="text/css" />
  <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.19.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../static/jquery.js"></script>
  <script type="text/javascript" src="../static/doctools.js"></script>
  <script type="text/javascript" src="../static/searchtools.js"></script>
  <script type="text/javascript" src="../searchindex.js"></script>
  <link rel="shortcut icon" href="../static/geoserver.ico"/>
      <link rel="search" title="Search" href="../search.html" />
      <link rel="top" title="GeoServer 2.19.2 User Manual" href="../index.html" />
      <link rel="up" title="Running in a production environment" href="index.html" />
      <link rel="next" title="Data Considerations" href="data.html" />
      <link rel="prev" title="Container Considerations" href="container.html" />
</head>
<body class="production/config">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../index.html">GeoServer 2.19.2 User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/about">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/download">Download</a></li>
        <!--<li><a href="../index.html">Documentation</a></li>-->
      </ul>
        <form id="quick-search" action="../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content-left" class="content-border"></div>
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../index.html">GeoServer 2.19.2 User Manual</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Running in a production environment</a> &raquo;</li>
  <li>Configuration Considerations</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../py-modindex.html" title="Python Module Index"
       accesskey="">modules</a></li>
  <li>
    <a href="data.html" title="Data Considerations"
       accesskey="N">next</a>|</li>
  <li>
    <a href="container.html" title="Container Considerations"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="configuration-considerations">
<span id="production-config"></span><h1>Configuration Considerations<a class="headerlink" href="#configuration-considerations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="use-production-logging">
<h2>Use production logging<a class="headerlink" href="#use-production-logging" title="Permalink to this headline">¶</a></h2>
<p>Logging may visibly affect the performance of your server. High logging levels are often necessary to track down issues, but by default you should run with low levels.  (You can switch the logging levels while GeoServer is running.)</p>
<p>You can change the logging level in the <a class="reference internal" href="../webadmin/index.html#web-admin"><span class="std std-ref">Web administration interface</span></a>.  You’ll want to choose the <span class="guilabel">PRODUCTION</span> logging configuration.</p>
</div>
<div class="section" id="set-a-service-strategy">
<h2>Set a service strategy<a class="headerlink" href="#set-a-service-strategy" title="Permalink to this headline">¶</a></h2>
<p>A service strategy is the method in which output is served to the client.  This is a balance between proper form (being absolutely sure of reporting errors with the proper OGC codes, etc) and speed (serving output as quickly as possible).  This is a decision to be made based on the function that GeoServer is providing.  You can configure the service strategy by modifying the <code class="file docutils literal notranslate"><span class="pre">web.xml</span></code> file of your GeoServer instance.</p>
<p>The possible strategies are:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Strategy</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SPEED</span></code></p></td>
<td><p>Serves output right away. This is the fastest strategy, but proper OGC errors are usually omitted.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUFFER</span></code></p></td>
<td><p>Stores the whole result in memory, and then serves it after the output is complete.  This ensures proper OGC error reporting, but delays the response quite a bit and can exhaust memory if the response is large.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FILE</span></code></p></td>
<td><p>Similar to <code class="docutils literal notranslate"><span class="pre">BUFFER</span></code>, but stores the whole result in a file instead of in memory. Slower than <code class="docutils literal notranslate"><span class="pre">BUFFER</span></code>, but ensures there won’t be memory issues.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PARTIAL-BUFFER</span></code></p></td>
<td><p>A balance between <code class="docutils literal notranslate"><span class="pre">BUFFER</span></code> and <code class="docutils literal notranslate"><span class="pre">SPEED</span></code>, this strategy tries to buffer in memory a few KB of response, then serves the full output.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="personalize-your-server">
<h2>Personalize your server<a class="headerlink" href="#personalize-your-server" title="Permalink to this headline">¶</a></h2>
<p>This is isn’t a performance consideration, but is just as important.  In order to make GeoServer as useful as possible, you should customize the server’s metadata to your organization.  It may be tempting to skip some of the configuration steps, and leave in the same keywords and abstract as the sample, but this will only confuse potential users.</p>
<p>Suggestions:</p>
<ul class="simple">
<li><p>Fill out the WFS, WMS, and WCS Contents sections (this info will be broadcast as part of the capabilities documents)</p></li>
<li><p>Serve your data with your own namespace (and provide a correct URI)</p></li>
<li><p>Remove default layers (such as <code class="docutils literal notranslate"><span class="pre">topp:states</span></code>)</p></li>
</ul>
</div>
<div class="section" id="configure-service-limits">
<h2>Configure service limits<a class="headerlink" href="#configure-service-limits" title="Permalink to this headline">¶</a></h2>
<p>Make sure clients cannot request an inordinate amount of resources from your server.</p>
<p>In particular:</p>
<ul class="simple">
<li><p>Set the maximum amount of features returned by each WFS GetFeature request (this can also be set on a per featuretype basis by modifying the <code class="file docutils literal notranslate"><span class="pre">info.xml</span></code> files directly)</p></li>
<li><p>Set the WMS <code class="docutils literal notranslate"><span class="pre">request</span> <span class="pre">limits</span></code> so that no request will consume too much memory or too much time</p></li>
</ul>
</div>
<div class="section" id="set-security">
<h2>Set security<a class="headerlink" href="#set-security" title="Permalink to this headline">¶</a></h2>
<p>GeoServer includes support for WFS-T (transactions) by default, which lets users modify your data. If you don’t want your database modified, you can turn off transactions in the the <a class="reference internal" href="../webadmin/index.html#web-admin"><span class="std std-ref">Web administration interface</span></a>. Set the <span class="guilabel">Service Level</span> to <code class="docutils literal notranslate"><span class="pre">Basic</span></code>.</p>
<p>If you’d like some users to be able to modify some but not all of your data, you will have to set up an external security service. An easy way to accomplish this is to run two GeoServer instances and configure them differently, and use authentication to only allow certain users to have access.</p>
<p>For extra security, make sure that the connection to the datastore that is open to all is through a user who has read-only permissions. This will eliminate the possibility of a SQL injection (though GeoServer is generally not vulnerable to that sort of attack).</p>
</div>
<div class="section" id="cache-your-data">
<h2>Cache your data<a class="headerlink" href="#cache-your-data" title="Permalink to this headline">¶</a></h2>
<p>Server-side caching of WMS tiles is the best way to increase performance.  In caching, pre-rendered tiles will be saved, eliminating the need for redundant WMS calls.  There are several ways to set up WMS caching for GeoServer.  GeoWebCache is the simplest method, as it comes bundled with GeoServer.  (See the section on <a class="reference internal" href="../geowebcache/index.html#gwc"><span class="std std-ref">GeoWebCache</span></a> for more details.)  Another option is <a class="reference external" href="http://tilecache.org">TileCache</a>.  You can also use a more generic caching system, such as <a class="reference external" href="http://www.opensymphony.com/oscache/">OSCache</a> (an embedded cache service) or <a class="reference external" href="http://www.squid-cache.org">Squid</a> (a web cache proxy).</p>
<p>Caching is also possible for WFS layers, in a very limited fashion. For DataStores that don’t have a quick way to determine feature counts (i.e. shapefiles), enabling caching can prevent querying a store twice during a single request. To enable caching, set the Java system property <code class="docutils literal notranslate"><span class="pre">org.geoserver.wfs.getfeature.cachelimit</span></code> to a positive integer. Any data sets that are smaller than the cache limit will be cached for the duration of a request, which will prevent them from being queried a second time for the feature count. Note that this may adversely affect some types of DataStores, as it bypasses any feature count optimizations that may exist.</p>
</div>
<div class="section" id="disable-the-geoserver-web-administration-interface">
<h2>Disable the GeoServer web administration interface<a class="headerlink" href="#disable-the-geoserver-web-administration-interface" title="Permalink to this headline">¶</a></h2>
<p>In some circumstances, you might want to completely disable the web administration interface.  There are two ways of doing this:</p>
<ul class="simple">
<li><p>Set the Java system property GEOSERVER_CONSOLE_DISABLED to true by adding -DGEOSERVER_CONSOLE_DISABLED=true to your container’s JVM options</p></li>
<li><p>Remove all of the gs-web*-.jar files from WEB-INF/lib</p></li>
</ul>
</div>
<div class="section" id="disable-the-auto-complete-on-web-administration-interface-login">
<h2>Disable the Auto-complete on web administration interface login<a class="headerlink" href="#disable-the-auto-complete-on-web-administration-interface-login" title="Permalink to this headline">¶</a></h2>
<p>To disable the Auto Complete on Web Admin login form:</p>
<ul class="simple">
<li><p>Set the Java system property geoserver.login.autocomplete to off by adding -Dgeoserver.login.autocomplete=off to your container’s JVM options</p></li>
<li><p>If the browser has already cached the credentials, please consider clearing the cache or form data after setting the JVM option.</p></li>
</ul>
</div>
<div class="section" id="x-frame-options-policy">
<h2>X-Frame-Options Policy<a class="headerlink" href="#x-frame-options-policy" title="Permalink to this headline">¶</a></h2>
<p>In order to prevent clickjacking attacks GeoServer defaults to setting the X-Frame-Options HTTP
header to SAMEORIGIN. This prevents GeoServer from being embedded into an iFrame, which prevents certain
kinds of security vulnerabilities. See the <a class="reference external" href="https://www.owasp.org/index.php/Clickjacking_Defense_Cheat_Sheet">OWASP Clickjacking entry</a> for details.</p>
<p>If you wish to change this behavior you can do so through the following properties:</p>
<ul class="simple">
<li><p>geoserver.xframe.shouldSetPolicy: controls whether the X-Frame-Options filter should be set at all. Default is true.</p></li>
<li><p>geoserver.xframe.policy: controls what the set the X-Frame-Options header to. Default is SAMEORIGIN valid options are DENY, SAMEORIGIN and ALLOW-FROM [uri]</p></li>
</ul>
<p>These properties can be set either via Java system property, command line argument (-D), environment
variable or web.xml init parameter.</p>
</div>
<div class="section" id="ows-serviceexception-xml-mimetype">
<h2>OWS ServiceException XML mimeType<a class="headerlink" href="#ows-serviceexception-xml-mimetype" title="Permalink to this headline">¶</a></h2>
<p>By default, OWS Service Exception XML responses have content-type set to application/xml.
In case you want it set to text/xml instead, you need to setup the Java System properties:</p>
<ul class="simple">
<li><p>-Dows10.exception.xml.responsetype=text/xml for OWS 1.0.0 version</p></li>
<li><p>-Dows11.exception.xml.responsetype=text/xml for OWS 1.1.0 version</p></li>
</ul>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="container.html" title="previous chapter">Container Considerations</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="data.html" title="next chapter">Data Considerations</a></div>
      </div>
      </div><!-- /#content> -->
      <div id="content-right" class="content-border"></div>
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Configuration Considerations</a><ul>
<li><a class="reference internal" href="#use-production-logging">Use production logging</a></li>
<li><a class="reference internal" href="#set-a-service-strategy">Set a service strategy</a></li>
<li><a class="reference internal" href="#personalize-your-server">Personalize your server</a></li>
<li><a class="reference internal" href="#configure-service-limits">Configure service limits</a></li>
<li><a class="reference internal" href="#set-security">Set security</a></li>
<li><a class="reference internal" href="#cache-your-data">Cache your data</a></li>
<li><a class="reference internal" href="#disable-the-geoserver-web-administration-interface">Disable the GeoServer web administration interface</a></li>
<li><a class="reference internal" href="#disable-the-auto-complete-on-web-administration-interface-login">Disable the Auto-complete on web administration interface login</a></li>
<li><a class="reference internal" href="#x-frame-options-policy">X-Frame-Options Policy</a></li>
<li><a class="reference internal" href="#ows-serviceexception-xml-mimetype">OWS ServiceException XML mimeType</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="container.html" title="previous chapter">Container Considerations</a></li>
            <li>Next: <a href="data.html" title="next chapter">Data Considerations</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
                
        <li><a href="https://github.com/geoserver/geoserver/tree/master/doc/en/user/source/production/config.rst">Edit</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2021, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    Last updated on Jul 20, 2021.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>