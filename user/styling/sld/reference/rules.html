<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Rules &mdash; GeoServer 2.19.2 User Manual</title>
  <link rel="stylesheet" href="../../../static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../../static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../../static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../../static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../../static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.19.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../../static/jquery.js"></script>
  <script type="text/javascript" src="../../../static/doctools.js"></script>
  <script type="text/javascript" src="../../../static/searchtools.js"></script>
  <script type="text/javascript" src="../../../searchindex.js"></script>
  <link rel="shortcut icon" href="../../../static/geoserver.ico"/>
      <link rel="search" title="Search" href="../../../search.html" />
      <link rel="top" title="GeoServer 2.19.2 User Manual" href="../../../index.html" />
      <link rel="up" title="SLD Reference" href="index.html" />
      <link rel="next" title="Filters" href="filters.html" />
      <link rel="prev" title="Styles" href="styles.html" />
</head>
<body class="styling/sld/reference/rules">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../../index.html">GeoServer 2.19.2 User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/about">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/download">Download</a></li>
        <!--<li><a href="../../../index.html">Documentation</a></li>-->
      </ul>
        <form id="quick-search" action="../../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../../static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content-left" class="content-border"></div>
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../../index.html">GeoServer 2.19.2 User Manual</a> &raquo;</li>
  <li><a href="../../index.html" accesskey="U">Styling</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">SLD Styling</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">SLD Reference</a> &raquo;</li>
  <li>Rules</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../../../py-modindex.html" title="Python Module Index"
       accesskey="">modules</a></li>
  <li>
    <a href="filters.html" title="Filters"
       accesskey="N">next</a>|</li>
  <li>
    <a href="styles.html" title="Styles"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="rules">
<span id="sld-reference-rules"></span><h1>Rules<a class="headerlink" href="#rules" title="Permalink to this headline">¶</a></h1>
<p>Styling <strong>rules</strong> define the portrayal of features.
A rule combines a <a class="reference internal" href="filters.html#sld-reference-filters"><span class="std std-ref">filter</span></a> with any number of symbolizers.
Features for which the filter condition evaluates as true
are rendered using the the symbolizers in the rule.</p>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;Rule&gt;</span></code> element contains the following elements:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 15%" />
<col style="width: 60%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Tag</strong></p></td>
<td><p><strong>Required?</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;Name&gt;</span></code></p></td>
<td><p>No</p></td>
<td><p>Specifies a name for the rule.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;Title&gt;</span></code></p></td>
<td><p>No</p></td>
<td><p>Specifies a title for the rule.
The title is used in display lists and legends.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;Abstract&gt;</span></code></p></td>
<td><p>No</p></td>
<td><p>Specifies an abstract describing the rule.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;Filter&gt;</span></code></p></td>
<td><p>No</p></td>
<td><p>Specifies a filter controlling when the rule is applied.
See <a class="reference internal" href="filters.html#sld-reference-filters"><span class="std std-ref">Filters</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;MinScaleDenominator&gt;</span></code></p></td>
<td><p>No</p></td>
<td><p>Specifies the minimum scale denominator (inclusive) for the scale range
in which this rule applies.
If present, the rule applies at the given scale and all smaller scales.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;MaxScaleDenominator&gt;</span></code></p></td>
<td><p>No</p></td>
<td><p>Specifies the maximum scale denominator (exclusive) for the scale range
in which this rule applies.
If present, the rule applies at scales larger than the given scale.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;PointSymbolizer&gt;</span></code></p></td>
<td><p>0..N</p></td>
<td><p>Specifies styling as points.
See <a class="reference internal" href="pointsymbolizer.html#sld-reference-pointsymbolizer"><span class="std std-ref">PointSymbolizer</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;LineSymbolizer&gt;</span></code></p></td>
<td><p>0..N</p></td>
<td><p>Specifies styling as lines.
See <a class="reference internal" href="linesymbolizer.html#sld-reference-linesymbolizer"><span class="std std-ref">LineSymbolizer</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;PolygonSymbolizer&gt;</span></code></p></td>
<td><p>0..N</p></td>
<td><p>Specifies styling as polygons.
See <a class="reference internal" href="polygonsymbolizer.html#sld-reference-polygonsymbolizer"><span class="std std-ref">PolygonSymbolizer</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;TextSymbolizer&gt;</span></code></p></td>
<td><p>0..N</p></td>
<td><p>Specifies styling for text labels.
See <a class="reference internal" href="textsymbolizer.html#sld-reference-textsymbolizer"><span class="std std-ref">TextSymbolizer</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;RasterSymbolizer&gt;</span></code></p></td>
<td><p>0..N</p></td>
<td><p>Specifies styling for raster data.
See <a class="reference internal" href="rastersymbolizer.html#sld-reference-rastersymbolizer"><span class="std std-ref">RasterSymbolizer</span></a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scale-selection">
<h2>Scale Selection<a class="headerlink" href="#scale-selection" title="Permalink to this headline">¶</a></h2>
<p>Rules support <strong>scale selection</strong>
to allow specifying the scale range in which a rule may be applied
(assuming the filter condition is satisfied as well, if present).
Scale selection allows for varying portrayal of features at different map scales.
In particular, at smaller scales it is common to use simpler styling for features,
or even prevent the display of some features altogether.</p>
<p>Scale ranges are specified by using <strong>scale denominators</strong>.
These values correspond directly to the ground distance covered by a map,
but are inversely related to the common “large” and “small” terminology for map scale.
In other words:</p>
<ul class="simple">
<li><p><strong>large scale</strong> maps cover <em>less</em> area and have a <em>smaller</em> scale denominator</p></li>
<li><p><strong>small scale</strong> maps cover <em>more</em> area and have a <em>larger</em> scale denominator</p></li>
</ul>
<p>Two optional elements specify the scale range for a rule:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 15%" />
<col style="width: 55%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Tag</strong></p></td>
<td><p><strong>Required?</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;MinScaleDenominator&gt;</span></code></p></td>
<td><p>No</p></td>
<td><p>Specifies the minimum scale denominator (inclusive) for the scale range
in which this rule applies.
If present, the rule applies at the given scale and all smaller scales.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;MaxScaleDenominator&gt;</span></code></p></td>
<td><p>No</p></td>
<td><p>Specifies the maximum scale denominator (exclusive) for the scale range
in which this rule applies.
If present, the rule applies at scales larger than the given scale.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The current scale can also be obtained via the <code class="docutils literal notranslate"><span class="pre">wms_scale_denominator</span></code>
<a class="reference internal" href="../extensions/substitution.html#sld-variable-substitution"><span class="std std-ref">SLD environment variable</span></a>.
This allows including scale dependency in <a class="reference internal" href="filters.html#sld-filter-expression"><span class="std std-ref">Filter Expressions</span></a>.</p>
</div>
<p>The following example shows the use of scale selection in a pair of rules.
The rules specify that:</p>
<ul class="simple">
<li><p>at scales <strong>above</strong> 1:20,000
(<em>larger</em> scales, with scale denominators <em>smaller</em> than 20,000)
features are symbolized with 10-pixel red squares,</p></li>
<li><p>at scales <strong>at or below</strong> 1:20,000
(<em>smaller</em> scales, with scale denominators <em>larger</em> than 20,000)
features are symbolized with 4-pixel blue triangles.</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Rule&gt;</span>
   <span class="nt">&lt;MaxScaleDenominator&gt;</span>20000<span class="nt">&lt;/MaxScaleDenominator&gt;</span>
   <span class="nt">&lt;PointSymbolizer&gt;</span>
     <span class="nt">&lt;Graphic&gt;</span>
       <span class="nt">&lt;Mark&gt;</span>
         <span class="nt">&lt;WellKnownName&gt;</span>square<span class="nt">&lt;/WellKnownName&gt;</span>
         <span class="nt">&lt;Fill&gt;&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#FF0000<span class="nt">&lt;/CssParameter&gt;</span>
       <span class="nt">&lt;/Mark&gt;</span>
       <span class="nt">&lt;Size&gt;</span>10<span class="nt">&lt;/Size&gt;</span>
     <span class="nt">&lt;/Graphic&gt;</span>
   <span class="nt">&lt;/PointSymbolizer&gt;</span>
<span class="nt">&lt;/Rule&gt;</span>
<span class="nt">&lt;Rule&gt;</span>
   <span class="nt">&lt;MinScaleDenominator&gt;</span>20000<span class="nt">&lt;/MinScaleDenominator&gt;</span>
   <span class="nt">&lt;PointSymbolizer&gt;</span>
     <span class="nt">&lt;Graphic&gt;</span>
       <span class="nt">&lt;Mark&gt;</span>
         <span class="nt">&lt;WellKnownName&gt;</span>triangle<span class="nt">&lt;/WellKnownName&gt;</span>
         <span class="nt">&lt;Fill&gt;&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#0000FF<span class="nt">&lt;/CssParameter&gt;</span>
       <span class="nt">&lt;/Mark&gt;</span>
       <span class="nt">&lt;Size&gt;</span>4<span class="nt">&lt;/Size&gt;</span>
     <span class="nt">&lt;/Graphic&gt;</span>
   <span class="nt">&lt;/PointSymbolizer&gt;</span>
<span class="nt">&lt;/Rule&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="evaluation-order">
<h2>Evaluation Order<a class="headerlink" href="#evaluation-order" title="Permalink to this headline">¶</a></h2>
<p>Within an SLD document each <code class="docutils literal notranslate"><span class="pre">&lt;FeatureTypeStyle&gt;</span></code> can contain many rules.
Multiple-rule SLDs are the basis for thematic styling.
In GeoServer each <code class="docutils literal notranslate"><span class="pre">&lt;FeatureTypeStyle&gt;</span></code>
is evaluated once for each feature processed.
The rules within it are evaluated in the order they occur.
A rule is applied when its filter condition (if any) is true for a feature
and the rule is enabled at the current map scale.
The rule is applied by rendering the feature using each symbolizer
within the rule, in the order in which they occur.
The rendering is performed into the image buffer
for the parent <code class="docutils literal notranslate"><span class="pre">&lt;FeatureTypeStyle&gt;</span></code>.
Thus symbolizers earlier in a <code class="docutils literal notranslate"><span class="pre">FeatureTypeStyle</span></code> and <code class="docutils literal notranslate"><span class="pre">Rule</span></code> are rendered
<em>before</em> symbolizers occuring later in the document
(this is the “Painter’s Model” method of rendering).</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The following rule applies only to features which have a <code class="docutils literal notranslate"><span class="pre">POPULATION</span></code> attribute greater than 100,000,
and symbolizes the features as red points.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Rule&gt;</span>
   <span class="nt">&lt;ogc:Filter&gt;</span>
     <span class="nt">&lt;ogc:PropertyIsGreaterThan&gt;</span>
       <span class="nt">&lt;ogc:PropertyName&gt;</span>POPULATION<span class="nt">&lt;/ogc:PropertyName&gt;</span>
       <span class="nt">&lt;ogc:Literal&gt;</span>100000<span class="nt">&lt;/ogc:Literal&gt;</span>
     <span class="nt">&lt;/ogc:PropertyIsGreaterThan&gt;</span>
   <span class="nt">&lt;/ogc:Filter&gt;</span>
   <span class="nt">&lt;PointSymbolizer&gt;</span>
     <span class="nt">&lt;Graphic&gt;</span>
       <span class="nt">&lt;Mark&gt;</span>
         <span class="nt">&lt;Fill&gt;&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#FF0000<span class="nt">&lt;/CssParameter&gt;</span>
       <span class="nt">&lt;/Mark&gt;</span>
     <span class="nt">&lt;/Graphic&gt;</span>
   <span class="nt">&lt;/PointSymbolizer&gt;</span>
<span class="nt">&lt;/Rule&gt;</span>
</pre></div>
</div>
<p>An additional rule can be added which applies to features whose <code class="docutils literal notranslate"><span class="pre">POPULATION</span></code> attribute is less than 100,000,
and symbolizes them as green points.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Rule&gt;</span>
  <span class="nt">&lt;ogc:Filter&gt;</span>
    <span class="nt">&lt;ogc:PropertyIsLessThan&gt;</span>
      <span class="nt">&lt;ogc:PropertyName&gt;</span>POPULATION<span class="nt">&lt;/ogc:PropertyName&gt;</span>
      <span class="nt">&lt;ogc:Literal&gt;</span>100000<span class="nt">&lt;/ogc:Literal&gt;</span>
    <span class="nt">&lt;/ogc:PropertyIsLessThan&gt;</span>
  <span class="nt">&lt;/ogc:Filter&gt;</span>
  <span class="nt">&lt;PointSymbolizer&gt;</span>
    <span class="nt">&lt;Graphic&gt;</span>
      <span class="nt">&lt;Mark&gt;</span>
        <span class="nt">&lt;Fill&gt;&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#0000FF<span class="nt">&lt;/CssParameter&gt;</span>
      <span class="nt">&lt;/Mark&gt;</span>
    <span class="nt">&lt;/Graphic&gt;</span>
  <span class="nt">&lt;/PointSymbolizer&gt;</span>
<span class="nt">&lt;/Rule&gt;</span>
</pre></div>
</div>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="styles.html" title="previous chapter">Styles</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="filters.html" title="next chapter">Filters</a></div>
      </div>
      </div><!-- /#content> -->
      <div id="content-right" class="content-border"></div>
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Rules</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#scale-selection">Scale Selection</a></li>
<li><a class="reference internal" href="#evaluation-order">Evaluation Order</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="styles.html" title="previous chapter">Styles</a></li>
            <li>Next: <a href="filters.html" title="next chapter">Filters</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
                
        <li><a href="https://github.com/geoserver/geoserver/tree/master/doc/en/user/source/styling/sld/reference/rules.rst">Edit</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2021, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    Last updated on Jul 20, 2021.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>