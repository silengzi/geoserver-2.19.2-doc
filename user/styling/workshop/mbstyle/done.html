<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>5.6. MBStyle Workbook Conclusion &mdash; GeoServer 2.19.2 User Manual</title>
  <link rel="stylesheet" href="../../../static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../../static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../../static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../../static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../../static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.19.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../../static/jquery.js"></script>
  <script type="text/javascript" src="../../../static/doctools.js"></script>
  <script type="text/javascript" src="../../../static/searchtools.js"></script>
  <script type="text/javascript" src="../../../searchindex.js"></script>
  <link rel="shortcut icon" href="../../../static/geoserver.ico"/>
      <link rel="search" title="Search" href="../../../search.html" />
      <link rel="top" title="GeoServer 2.19.2 User Manual" href="../../../index.html" />
      <link rel="up" title="5. MBStyle Styling Workbook" href="index.html" />
      <link rel="next" title="Services" href="../../../services/index.html" />
      <link rel="prev" title="5.5. Rasters" href="raster.html" />
</head>
<body class="styling/workshop/mbstyle/done">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../../index.html">GeoServer 2.19.2 User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/about">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/download">Download</a></li>
        <!--<li><a href="../../../index.html">Documentation</a></li>-->
      </ul>
        <form id="quick-search" action="../../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../../static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content-left" class="content-border"></div>
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../../index.html">GeoServer 2.19.2 User Manual</a> &raquo;</li>
  <li><a href="../../index.html" accesskey="U">Styling</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Styling Workshop</a> &raquo;</li>
  <li><a href="index.html" accesskey="U"><span class="section-number">5. </span>MBStyle Styling Workbook</a> &raquo;</li>
  <li>5.6. MBStyle Workbook Conclusion</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../../../py-modindex.html" title="Python Module Index"
       accesskey="">modules</a></li>
  <li>
    <a href="../../../services/index.html" title="Services"
       accesskey="N">next</a>|</li>
  <li>
    <a href="raster.html" title="5.5. Rasters"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="mbstyle-workbook-conclusion">
<span id="styling-workshop-mbstyle-done"></span><h1><span class="section-number">5.6. </span>MBStyle Workbook Conclusion<a class="headerlink" href="#mbstyle-workbook-conclusion" title="Permalink to this headline">¶</a></h1>
<p>We hope you have enjoyed this styling workshop.</p>
<p>Additional resources:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../mbstyle/index.html#mbstyle-styling"><span class="std std-ref">MBStyle Extension</span></a></p></li>
<li><p><a class="reference internal" href="../../mbstyle/reference/index.html#mbstyle-reference"><span class="std std-ref">MBStyle Reference</span></a></p></li>
</ul>
<div class="section" id="mbstyle-tips-and-tricks">
<h2><span class="section-number">5.6.1. </span>MBStyle Tips and Tricks<a class="headerlink" href="#mbstyle-tips-and-tricks" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="mbstyle-workshop-answer-key">
<h2><span class="section-number">5.6.2. </span>MBStyle Workshop Answer Key<a class="headerlink" href="#mbstyle-workshop-answer-key" title="Permalink to this headline">¶</a></h2>
<p>The following questions were listed through out the workshop as an opportunity to explore the material in greater depth. Please do your best to consider the questions in detail prior to checking here for the answer. Questions are provided to teach valuable skills, such as a chance to understand how feature type styles are used to control z-order, or where to locate information in the user manual.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Coming Soon</p>
</div>
<div class="section" id="classification">
<span id="mbstyle-line-a1"></span><h3><span class="section-number">5.6.2.1. </span>Classification<a class="headerlink" href="#classification" title="Permalink to this headline">¶</a></h3>
<p>Answer for <a class="reference internal" href="linestring.html#mbstyle-line-q1"><span class="std std-ref">Challenge Classification</span></a>:</p>
<ol class="arabic">
<li><p><strong>Challenge:</strong> Create a new style adjust road appearance based on <strong>type</strong>.</p>
<img alt="../../../images/line_type1.png" src="../../../images/line_type1.png" />
<p>Hint: The available values are ‘Major Highway’,’Secondary Highway’,’Road’ and ‘Unknown’.</p>
</li>
<li><p>Here is an example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;line_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;line_hwy1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:roads&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;line&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;==&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;Major Highway&quot;</span><span class="p">],</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;line-color&quot;</span><span class="p">:</span> <span class="s2">&quot;#000088&quot;</span><span class="p">,</span>
        <span class="nt">&quot;line-width&quot;</span><span class="p">:</span> <span class="mf">1.25</span><span class="p">,</span>
        <span class="nt">&quot;line-opacity&quot;</span><span class="p">:</span> <span class="mf">0.25</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;line_hwy2&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:roads&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;line&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;==&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;Secondary Highway&quot;</span><span class="p">],</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;line-color&quot;</span><span class="p">:</span> <span class="s2">&quot;#8888AA&quot;</span><span class="p">,</span>
        <span class="nt">&quot;line-width&quot;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span>
        <span class="nt">&quot;line-opacity&quot;</span><span class="p">:</span> <span class="mf">0.25</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;line_road&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:roads&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;line&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;==&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;Road&quot;</span><span class="p">],</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;line-color&quot;</span><span class="p">:</span> <span class="s2">&quot;#888888&quot;</span><span class="p">,</span>
        <span class="nt">&quot;line-width&quot;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span>
        <span class="nt">&quot;line-opacity&quot;</span><span class="p">:</span> <span class="mf">0.25</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;line_unk&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:roads&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;line&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;==&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;Unknown&quot;</span><span class="p">],</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;line-color&quot;</span><span class="p">:</span> <span class="s2">&quot;#888888&quot;</span><span class="p">,</span>
        <span class="nt">&quot;line-width&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="nt">&quot;line-opacity&quot;</span><span class="p">:</span> <span class="mf">0.25</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="one-rule-classification">
<span id="mbstyle-line-a2"></span><h3><span class="section-number">5.6.2.2. </span>One Rule Classification<a class="headerlink" href="#one-rule-classification" title="Permalink to this headline">¶</a></h3>
<p>Answer for <a class="reference internal" href="linestring.html#mbstyle-line-q2"><span class="std std-ref">Challenge One Rule Classification</span></a>:</p>
<ol class="arabic simple">
<li><p><strong>Challenge:</strong> Create a new style and classify the roads based on their scale rank using expressions in a single rule instead of multiple rules with filters.</p></li>
<li><p>This exercise requires looking up information in the MBstyle user guide.</p>
<ul class="simple">
<li><p>The Mapbox Style specification <a class="reference external" href="https://www.mapbox.com/mapbox-gl-js/style-spec/#other-function">functions</a> provides details.</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="label-shields">
<span id="mbstyle-line-a3"></span><h3><span class="section-number">5.6.2.3. </span>Label Shields<a class="headerlink" href="#label-shields" title="Permalink to this headline">¶</a></h3>
<p>Answer for <a class="reference internal" href="linestring.html#mbstyle-line-q3"><span class="std std-ref">Challenge Label Shields</span></a>:</p>
<ol class="arabic">
<li><p><em>Challenge:</em> Have a look at the documentation for putting a graphic on a text symbolizer in SLD and reproduce this technique in MBStyle.</p>
<img alt="../../../images/line_shield1.png" src="../../../images/line_shield1.png" />
</li>
<li><p>The use of a label shield is a vendor specific capability of the GeoServer rendering engine. The tricky part of this exercise is finding which symbol layout parameters give the desired behavior, mainly <strong>icon-text-fit</strong> but also the various placement and overlap parameters to allow the text to be drawn atop the labels ( see <a class="reference external" href="https://www.mapbox.com/mapbox-gl-js/style-spec/#layers-symbol">symbol layer</a>).</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;line_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;line_casing&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:roads&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;line&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;line-color&quot;</span><span class="p">:</span> <span class="s2">&quot;#000000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;line-width&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;line_inner&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:roads&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;line&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;line-color&quot;</span><span class="p">:</span> <span class="s2">&quot;#D3D3D3&quot;</span><span class="p">,</span>
        <span class="nt">&quot;line-width&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:roads&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;icon-image&quot;</span><span class="p">:</span> <span class="s2">&quot;white_square16&quot;</span><span class="p">,</span>
        <span class="nt">&quot;icon-text-fit&quot;</span><span class="p">:</span> <span class="s2">&quot;width&quot;</span><span class="p">,</span>
        <span class="nt">&quot;icon-text-fit-padding&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
        <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{name}&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Ariel&quot;</span><span class="p">],</span>
        <span class="nt">&quot;text-font-size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="nt">&quot;text-ignore-placement&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;text-allow-overlap&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;icon-ignore-placement&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;icon-allow-overlap&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;symbol-placement&quot;</span><span class="p">:</span> <span class="s2">&quot;line&quot;</span><span class="p">,</span>
        <span class="nt">&quot;symbol-spacing&quot;</span><span class="p">:</span> <span class="mi">0</span>

      <span class="p">}</span>
      <span class="s2">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="interval">
<span id="mbstyle-polygon-a2"></span><h3><span class="section-number">5.6.2.4. </span>Interval<a class="headerlink" href="#interval" title="Permalink to this headline">¶</a></h3>
<p>Answer for <a class="reference internal" href="polygon.html#mbstyle-polygon-q2"><span class="std std-ref">Explore Interval</span></a>:</p>
<ol class="arabic">
<li><p>An exciting use of the GeoServer <strong>fill-pattern</strong> symbols is theming by changing the pattern used.</p></li>
<li><p><strong>Explore:</strong> Use the <strong>interval</strong> function to theme by <strong>datarank</strong>.</p>
<img alt="../../../images/polygon_categorize1.png" src="../../../images/polygon_categorize1.png" />
<p>Example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:states_provinces_shp&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fill&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;fill-pattern&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;datarank&quot;</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;interval&quot;</span><span class="p">,</span>
          <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;grey_diag8&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;grey_diag16&quot;</span><span class="p">]</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="halo">
<span id="mbstyle-polygon-a4"></span><h3><span class="section-number">5.6.2.5. </span>Halo<a class="headerlink" href="#halo" title="Permalink to this headline">¶</a></h3>
<p>Answer for <a class="reference internal" href="polygon.html#mbstyle-polygon-q4"><span class="std std-ref">Challenge Halo</span></a>:</p>
<ol class="arabic">
<li><p>The halo example used the fill color and opacity for a muted halo, while this improved readability it did not bring attention to our labels.</p>
<p>A common design choice for emphasis is to outline the text in a contrasting color.</p>
</li>
<li><p><strong>Challenge:</strong> Produce a map that uses a white halo around black text.</p>
<p>Here is an example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon_fill&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:states_provinces_shp&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fill&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;fill-color&quot;</span><span class="p">:</span> <span class="s2">&quot;#7EB5D3&quot;</span><span class="p">,</span>
        <span class="nt">&quot;fill-outline-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon_label&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:states_provinces_shp&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{name}&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text-anchor&quot;</span><span class="p">:</span> <span class="s2">&quot;center&quot;</span>
        <span class="s2">&quot;text-max-width&quot;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
        <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">]</span>
      <span class="p">},</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text-halo-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text-halo-width&quot;</span><span class="p">:</span> <span class="mi">1</span>

      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="theming-using-multiple-attributes">
<span id="mbstyle-polygon-a5"></span><h3><span class="section-number">5.6.2.6. </span>Theming using Multiple Attributes<a class="headerlink" href="#theming-using-multiple-attributes" title="Permalink to this headline">¶</a></h3>
<p>Answer for <a class="reference internal" href="polygon.html#mbstyle-polygon-q5"><span class="std std-ref">Challenge Theming using Multiple Attributes</span></a>:</p>
<ol class="arabic">
<li><p>A powerful tool is theming using multiple attributes. This is an important concept allowing map readers to perform “integration by eyeball” (detecting correlations between attribute values information).</p></li>
<li><p><strong>Challenge:</strong> Combine the <strong>mapcolor9</strong> and <strong>datarank</strong> examples to reproduce the following map.</p>
<img alt="../../../images/polygon_multitheme1.png" src="../../../images/polygon_multitheme1.png" />
<p>This should be a cut and paste using the <code class="docutils literal notranslate"><span class="pre">categorical</span></code> example, and <code class="docutils literal notranslate"><span class="pre">interval</span></code> examples already provided.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:states_provinces_shp&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fill&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;fill-color&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;mapcolor9&quot;</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;categorical&quot;</span><span class="p">,</span>
          <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;#8dd3c7&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;#ffffb3&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;#bebada&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;#fb8072&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;#80b1d3&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;#fdb462&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;#b3de69&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;#fccde5&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;#d9d9d9&quot;</span><span class="p">]</span>
          <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;fill-outline-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:states_provinces_shp&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fill&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;fill-pattern&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;datarank&quot;</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;interval&quot;</span><span class="p">,</span>
          <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;grey_diag8&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;grey_diag16&quot;</span><span class="p">]</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="use-of-z-index">
<span id="mbstyle-polygon-a6"></span><h3><span class="section-number">5.6.2.7. </span>Use of Z-Index<a class="headerlink" href="#use-of-z-index" title="Permalink to this headline">¶</a></h3>
<p>Answer for <a class="reference internal" href="polygon.html#mbstyle-polygon-q6"><span class="std std-ref">Challenge Use of Z-Index</span></a>:</p>
<ol class="arabic">
<li><p>Using multiple <strong>layers</strong> to simulate line string casing. The resulting effect is similar to text halos - providing breathing space around complex line work allowing it to stand out.</p></li>
<li><p><strong>Challenge:</strong> Use what you know of LineString rendering order to reproduce the following map:</p>
<img alt="../../../images/polygon_zorder1.png" src="../../../images/polygon_zorder1.png" />
<p>This is much easier when using MBStyle, where z-order is controlled by layer.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
   <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon_example&quot;</span><span class="p">,</span>
   <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span><span class="p">,</span>
   <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon_fill&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:states_provinces_shp&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fill&quot;</span><span class="p">,</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;fill-color&quot;</span><span class="p">:</span> <span class="s2">&quot;lightgrey&quot;</span><span class="p">,</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon_pattern&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:states_provinces_shp&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fill&quot;</span><span class="p">,</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;fill-pattern&quot;</span><span class="p">:</span> <span class="s2">&quot;grey_diag16&quot;</span>
       <span class="p">}</span>
     <span class="p">}</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon_casing&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:states_provinces_shp&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;line&quot;</span><span class="p">,</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;line-color&quot;</span><span class="p">:</span> <span class="s2">&quot;lightgrey&quot;</span><span class="p">,</span>
         <span class="nt">&quot;line-width&quot;</span><span class="p">:</span> <span class="mi">6</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;polygon_outline&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:states_provinces_shp&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;line&quot;</span><span class="p">,</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;line-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
         <span class="nt">&quot;line-width&quot;</span><span class="p">:</span> <span class="mf">1.5</span>
       <span class="p">}</span>
     <span class="p">}</span>
   <span class="p">]</span>
 <span class="p">}</span>
</pre></div>
</div>
<p>The structure of the legend graphic provides an indication on what is going on.</p>
</li>
</ol>
</div>
<div class="section" id="geometry-location">
<span id="mbstyle-point-a1"></span><h3><span class="section-number">5.6.2.8. </span>Geometry Location<a class="headerlink" href="#geometry-location" title="Permalink to this headline">¶</a></h3>
<p>Answer for <a class="reference internal" href="point.html#mbstyle-point-q1"><span class="std std-ref">Challenge Geometry Location</span></a>:</p>
<ol class="arabic">
<li><p>The <strong>symbol</strong> layer can be used to render any geometry content.</p></li>
<li><p><strong>Challenge:</strong> Try this yourself by rendering polygon data using a <strong>symbol</strong> layer.</p>
<p>This can be done one of two ways:</p>
<ul class="simple">
<li><p>Changing the association of a polygon layer, such as <code class="docutils literal notranslate"><span class="pre">ne:states_provinces_shp</span></code> to point_example and using the layer preview page.</p></li>
<li><p>Changing the <span class="guilabel">Layer Preview</span> tab to a polygon layer, such as <code class="docutils literal notranslate"><span class="pre">ne:states_provinces_shp</span></code>.</p></li>
</ul>
<p>The important thing to notice is that the centroid of each polygon is used as a point location.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A layer in an MBStyle is not the same as a layer in GeoServer. A GeoServer layer is a raster or vector dataset that represents a collection of geographic features. A MBStyle layer is a block of styling information, similar to a SLD Symbolizer.</p>
</div>
</div>
<div class="section" id="dynamic-symbolization">
<span id="mbstyle-point-a2"></span><h3><span class="section-number">5.6.2.9. </span>Dynamic Symbolization<a class="headerlink" href="#dynamic-symbolization" title="Permalink to this headline">¶</a></h3>
<p>Answer for <a class="reference internal" href="point.html#mbstyle-point-q2"><span class="std std-ref">Explore Dynamic Symbolization</span></a>:</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">icon-image</span></code> provides an opportunity for dynamic symbolization.</p>
<p>This is accomplished by using a function for the value of <code class="docutils literal notranslate"><span class="pre">icon-image</span></code>:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_capital&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;icon-image&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;categorical&quot;</span><span class="p">,</span>
          <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span>
          <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;grey_circle&quot;</span><span class="p">,</span>
          <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">,</span> <span class="s2">&quot;star&quot;</span><span class="p">]</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Challenge:</strong> Use this approach to rewrite the <em>Dynamic Styling</em> example.</p>
<p>Example available here <a class="reference download internal" download="" href="../../../downloads/9c478b3d6d893a693044e035b9203753/point_example2.json"><code class="xref download docutils literal notranslate"><span class="pre">point_example.json</span></code></a> :</p>
</li>
</ol>
</div>
<div class="section" id="raster-opacity">
<span id="mbstyle-raster-a4"></span><h3><span class="section-number">5.6.2.10. </span>Raster Opacity<a class="headerlink" href="#raster-opacity" title="Permalink to this headline">¶</a></h3>
<p>Discussion for <a class="reference internal" href="raster.html#mbstyle-raster-q4"><span class="std std-ref">Challenge Raster Opacity</span></a>:</p>
<ol class="arabic">
<li><p>There is a quick way to make raster data transparent, raster <strong>opacity</strong> property works in the same fashion as with vector data. The raster as a whole will be drawn partially transparent allow content from other layers to provide context.</p></li>
<li><p><strong>Challenge:</strong> Can you think of an example where this would be useful?</p>
<p>This is difficult as raster data is usually provided for use as a basemap, with layers being drawn over top.</p>
<p>The most obvious example here is the display of weather systems, or model output such as fire danger. By drawing the raster with some transparency, the landmass can be shown for context.</p>
</li>
</ol>
</div>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="raster.html" title="previous chapter"><span class="section-number">5.5. </span>Rasters</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="../../../services/index.html" title="next chapter">Services</a></div>
      </div>
      </div><!-- /#content> -->
      <div id="content-right" class="content-border"></div>
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">5.6. MBStyle Workbook Conclusion</a><ul>
<li><a class="reference internal" href="#mbstyle-tips-and-tricks">5.6.1. MBStyle Tips and Tricks</a></li>
<li><a class="reference internal" href="#mbstyle-workshop-answer-key">5.6.2. MBStyle Workshop Answer Key</a><ul>
<li><a class="reference internal" href="#classification">5.6.2.1. Classification</a></li>
<li><a class="reference internal" href="#one-rule-classification">5.6.2.2. One Rule Classification</a></li>
<li><a class="reference internal" href="#label-shields">5.6.2.3. Label Shields</a></li>
<li><a class="reference internal" href="#interval">5.6.2.4. Interval</a></li>
<li><a class="reference internal" href="#halo">5.6.2.5. Halo</a></li>
<li><a class="reference internal" href="#theming-using-multiple-attributes">5.6.2.6. Theming using Multiple Attributes</a></li>
<li><a class="reference internal" href="#use-of-z-index">5.6.2.7. Use of Z-Index</a></li>
<li><a class="reference internal" href="#geometry-location">5.6.2.8. Geometry Location</a></li>
<li><a class="reference internal" href="#dynamic-symbolization">5.6.2.9. Dynamic Symbolization</a></li>
<li><a class="reference internal" href="#raster-opacity">5.6.2.10. Raster Opacity</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="raster.html" title="previous chapter"><span class="section-number">5.5. </span>Rasters</a></li>
            <li>Next: <a href="../../../services/index.html" title="next chapter">Services</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
                
        <li><a href="https://github.com/geoserver/geoserver/tree/master/doc/en/user/source/styling/workshop/mbstyle/done.rst">Edit</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2021, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    Last updated on Jul 20, 2021.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>