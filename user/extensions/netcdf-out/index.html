<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>NetCDF Output Format &mdash; GeoServer 2.19.2 User Manual</title>
  <link rel="stylesheet" href="../../static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.19.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../static/jquery.js"></script>
  <script type="text/javascript" src="../../static/doctools.js"></script>
  <script type="text/javascript" src="../../static/searchtools.js"></script>
  <script type="text/javascript" src="../../searchindex.js"></script>
  <link rel="shortcut icon" href="../../static/geoserver.ico"/>
      <link rel="search" title="Search" href="../../search.html" />
      <link rel="top" title="GeoServer 2.19.2 User Manual" href="../../index.html" />
      <link rel="up" title="Extensions" href="../index.html" />
      <link rel="next" title="OGR based WFS Output Format" href="../ogr.html" />
      <link rel="prev" title="NetCDF" href="../netcdf/netcdf.html" />
</head>
<body class="extensions/netcdf-out/index">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../index.html">GeoServer 2.19.2 User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/about">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/download">Download</a></li>
        <!--<li><a href="../../index.html">Documentation</a></li>-->
      </ul>
        <form id="quick-search" action="../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content-left" class="content-border"></div>
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../index.html">GeoServer 2.19.2 User Manual</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Extensions</a> &raquo;</li>
  <li>NetCDF Output Format</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../../py-modindex.html" title="Python Module Index"
       accesskey="">modules</a></li>
  <li>
    <a href="../ogr.html" title="OGR based WFS Output Format"
       accesskey="N">next</a>|</li>
  <li>
    <a href="../netcdf/netcdf.html" title="NetCDF"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="netcdf-output-format">
<span id="netcdf-out"></span><h1>NetCDF Output Format<a class="headerlink" href="#netcdf-output-format" title="Permalink to this headline">¶</a></h1>
<p>This plugin adds the ability to encode WCS 2.0.1 multidimensional output as a NetCDF file using the Unidata NetCDF Java library.</p>
<div class="section" id="getting-a-netcdf-output-file">
<h2>Getting a NetCDF output file<a class="headerlink" href="#getting-a-netcdf-output-file" title="Permalink to this headline">¶</a></h2>
<p>Request NetCDF output by specifying <code class="docutils literal notranslate"><span class="pre">format=application/x-netcdf</span></code> in a <code class="docutils literal notranslate"><span class="pre">GetCoverage</span></code> request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://localhost:8080/geoserver/wcs?service=WCS&amp;version=2.0.1&amp;request=GetCoverage&amp;coverageid=it.geosolutions__V&amp;format=application/x-netcdf...
</pre></div>
</div>
</div>
<div class="section" id="current-limitations">
<h2>Current limitations<a class="headerlink" href="#current-limitations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Input coverages/slices should share the same bounding box (lon/lat coordinates are the same for the whole ND cube).</p></li>
<li><p>NetCDF output will be produced only when input coverages come from a StructuredGridCoverage2D reader (this allows to query the GranuleSource to get the list of granules in order to setup dimensions slices for each sub-coverage).</p></li>
</ul>
</div>
<div class="section" id="netcdf-4">
<h2>NetCDF-4<a class="headerlink" href="#netcdf-4" title="Permalink to this headline">¶</a></h2>
<p>NetCDF-4 output is supported but requires native libraries (see <a class="reference internal" href="nc4.html#nc4"><span class="std std-ref">Installing required NetCDF-4 Native libraries</span></a>). NetCDF-4 adds support for compression. Use <code class="docutils literal notranslate"><span class="pre">format=application/x-netcdf4</span></code> to request NetCDF-4 output.</p>
</div>
<div class="section" id="settings">
<h2>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<p>NetCDF output settings can be configured for each raster layer. The similar section in the <em>Global Settings</em> page configures the default settings used for newly created raster layers.</p>
<div class="figure align-center">
<img alt="../../_images/netcdfoutpanel.png" src="../../_images/netcdfoutpanel.png" />
</div>
<ul class="simple">
<li><dl class="simple">
<dt>Variable Name (optional)</dt><dd><ul>
<li><p>Sets the NetCDF variable name.</p></li>
<li><p>Does not change the layer name, which can be configured in the Data tab.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Variable Unit of Measure (optional)</dt><dd><ul>
<li><p>Sets the NetCDF <code class="docutils literal notranslate"><span class="pre">uom</span></code> attribute.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Data Packing</dt><dd><ul>
<li><p>Lossy compression by storing data in reduced precision.</p></li>
<li><p>One of <em>NONE</em>, <em>BYTE</em>, <em>SHORT</em>, or <em>INT</em>.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>NetCDF-4 Compression Level</dt><dd><ul>
<li><p>Lossless compression.</p></li>
<li><p>Level is an integer from 0 (no compression, fastest) to 9 (most compression, slowest).</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>NetCDF-4 Chunk Shuffling</dt><dd><ul>
<li><p>Lossless byte reordering to improve compression.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Copy Variable Attributes from NetCDF/GRIB Source</dt><dd><ul>
<li><p>Most attributes are copied from the source NetCDF/GRIB variable.</p></li>
<li><p>Some attributes such as <code class="docutils literal notranslate"><span class="pre">coordinates</span></code> and <code class="docutils literal notranslate"><span class="pre">missing_value</span></code> are skipped as these may no longer be valid.</p></li>
<li><p>For an ImageMosaic, one granule is chosen as the source.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Copy Global Attributes from NetCDF/GRIB Source</dt><dd><ul>
<li><p>Attributes are copied from the source NetCDF/GRIB global attributes.</p></li>
<li><p>For an ImageMosaic, one granule is chosen as the source.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Variable Attributes</dt><dd><ul>
<li><p>Values are encoded as integers or doubles if possible, otherwise strings.</p></li>
<li><p>Values set here overwrite attributes set elsewhere, such as those copied from a source NetCDF/GRIB variable.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Global Attributes</dt><dd><ul>
<li><p>Values are encoded as integers or doubles if possible, otherwise strings.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Scalar Variables Copied from NetCDF/GRIB Source</dt><dd><ul>
<li><p>Source specifies the name of the source variable in a NetCDF file or the <code class="docutils literal notranslate"><span class="pre">toolsUI</span></code> view of a GRIB file; only scalar source variables are supported.</p></li>
<li><p>Output specifies the name of the variable in the output NetCDF file.</p></li>
<li><p>If only one of Source or Output is given, the other is taken as the same.</p></li>
<li><p>Dimension is either blank to simply copy the source scalar from one granule, or the name of one output NetCDF dimension to cause values to be copied from multiple granules (such as those from an ImageMosaic over a non-spatial dimension) into a one-dimensional variable. The example above copies a single value from multiple <code class="docutils literal notranslate"><span class="pre">reftime</span></code> scalars into <code class="docutils literal notranslate"><span class="pre">forecast_reference_time</span></code> dimensioned by <code class="docutils literal notranslate"><span class="pre">time</span></code> in an ImageMosaic over time.</p></li>
<li><p>For an ImageMosaic, one granule is chosen as the source for variable attributes.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="cf-standard-names-support">
<h2>CF Standard names support<a class="headerlink" href="#cf-standard-names-support" title="Permalink to this headline">¶</a></h2>
<p>Note that the output name can also be chosen from the list of CF Standard names.
Check <a class="reference external" href="http://cfconventions.org/standard-names.html">CF standard names</a> page for more info on it.</p>
<p>Once you click on the dropdown, you may choose from the set of available standard names.</p>
<div class="figure align-center" id="id1">
<img alt="../../_images/cfnames.png" src="../../_images/cfnames.png" />
<p class="caption"><span class="caption-text"><em>NetCDF CF Standard names list</em></span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>Note that once you specify the standard name, the unit will be automatically configured, using the canonical unit associated with that standard name.</p>
<div class="figure align-center" id="id2">
<img alt="../../_images/cfunit.png" src="../../_images/cfunit.png" />
<p class="caption"><span class="caption-text"><em>NetCDF CF Standard names and canonical unit</em></span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>The list of standard names is populated by taking the entries from a standard name table xml.
At time of writing, a valid example is available <a class="reference external" href="http://cfconventions.org/Data/cf-standard-names/27/src/cf-standard-name-table.xml">Here</a></p>
<p>You have three ways to provide it to GeoServer.</p>
<ol class="arabic simple">
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">-DNETCDF_STANDARD_TABLE=/path/to/the/table/tablename.xml</span></code> property to the startup script.</p></li>
<li><p>Put that xml file within the <code class="docutils literal notranslate"><span class="pre">NETCDF_DATA_DIR</span></code> which is the folder where all NetCDF auxiliary files are located. (<a class="reference external" href="http://geoserver.geo-solutions.it/multidim/en/mosaic_config/netcdf_mosaic.html#customizing-netcdf-ancillary-files-location">More info</a>)</p></li>
<li><p>Put that xml file within the <code class="docutils literal notranslate"><span class="pre">GEOSERVER_DATA_DIR</span></code>.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that for the 2nd and 3rd case, file name must be <strong>cf-standard-name-table.xml</strong>.</p>
</div>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="../netcdf/netcdf.html" title="previous chapter">NetCDF</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="../ogr.html" title="next chapter">OGR based WFS Output Format</a></div>
      </div>
      </div><!-- /#content> -->
      <div id="content-right" class="content-border"></div>
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">NetCDF Output Format</a><ul>
<li><a class="reference internal" href="#getting-a-netcdf-output-file">Getting a NetCDF output file</a></li>
<li><a class="reference internal" href="#current-limitations">Current limitations</a></li>
<li><a class="reference internal" href="#netcdf-4">NetCDF-4</a></li>
<li><a class="reference internal" href="#settings">Settings</a></li>
<li><a class="reference internal" href="#cf-standard-names-support">CF Standard names support</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="../netcdf/netcdf.html" title="previous chapter">NetCDF</a></li>
            <li>Next: <a href="../ogr.html" title="next chapter">OGR based WFS Output Format</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
                
        <li><a href="https://github.com/geoserver/geoserver/tree/master/doc/en/user/source/extensions/netcdf-out/index.rst">Edit</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2021, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    Last updated on Jul 20, 2021.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>