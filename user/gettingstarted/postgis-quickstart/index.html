<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Publishing a PostGIS table &mdash; GeoServer 2.19.2 User Manual</title>
  <link rel="stylesheet" href="../../static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.19.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../static/jquery.js"></script>
  <script type="text/javascript" src="../../static/doctools.js"></script>
  <script type="text/javascript" src="../../static/searchtools.js"></script>
  <script type="text/javascript" src="../../searchindex.js"></script>
  <link rel="shortcut icon" href="../../static/geoserver.ico"/>
      <link rel="search" title="Search" href="../../search.html" />
      <link rel="top" title="GeoServer 2.19.2 User Manual" href="../../index.html" />
      <link rel="up" title="Getting started" href="../index.html" />
      <link rel="next" title="Web administration interface" href="../../webadmin/index.html" />
      <link rel="prev" title="Publishing a shapefile" href="../shapefile-quickstart/index.html" />
</head>
<body class="gettingstarted/postgis-quickstart/index">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../index.html">GeoServer 2.19.2 User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/about">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/download">Download</a></li>
        <!--<li><a href="../../index.html">Documentation</a></li>-->
      </ul>
        <form id="quick-search" action="../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content-left" class="content-border"></div>
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../index.html">GeoServer 2.19.2 User Manual</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Getting started</a> &raquo;</li>
  <li>Publishing a PostGIS table</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../../py-modindex.html" title="Python Module Index"
       accesskey="">modules</a></li>
  <li>
    <a href="../../webadmin/index.html" title="Web administration interface"
       accesskey="N">next</a>|</li>
  <li>
    <a href="../shapefile-quickstart/index.html" title="Publishing a shapefile"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="publishing-a-postgis-table">
<span id="postgis-quickstart"></span><h1>Publishing a PostGIS table<a class="headerlink" href="#publishing-a-postgis-table" title="Permalink to this headline">¶</a></h1>
<p>This tutorial walks through the steps of publishing a PostGIS table with GeoServer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This tutorial assumes that PostgreSQL/PostGIS has been previously installed on the system and responding on <code class="docutils literal notranslate"><span class="pre">localhost</span></code> on port <code class="docutils literal notranslate"><span class="pre">5432</span></code>, and also that GeoServer is running at <code class="docutils literal notranslate"><span class="pre">http://localhost:8080/geoserver</span></code>.</p>
</div>
<div class="section" id="data-preparation">
<h2>Data preparation<a class="headerlink" href="#data-preparation" title="Permalink to this headline">¶</a></h2>
<p>First let’s gather that the data that we’ll be publishing.</p>
<ol class="arabic">
<li><p>Download the file <a class="reference download internal" download="" href="../../downloads/bbd4b941ceb36074c9d19feab3f57609/nyc_buildings.zip"><code class="xref download docutils literal notranslate"><span class="pre">nyc_buildings.zip</span></code></a>. It contains a PostGIS dump of a dataset of buildings from New York City.</p></li>
<li><p>Create a PostGIS database called <code class="docutils literal notranslate"><span class="pre">nyc</span></code>. This can be done with the following commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">createdb nyc</span>
<span class="go">psql -d nyc -c &#39;CREATE EXTENSION postgis&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may need to supply a user name and password with these commands.</p>
</div>
</li>
<li><p>Extract <code class="file docutils literal notranslate"><span class="pre">nyc_buildings.sql</span></code> from <code class="file docutils literal notranslate"><span class="pre">nyc_buildings.zip</span></code>.</p></li>
<li><p>Import <code class="file docutils literal notranslate"><span class="pre">nyc_buildings.sql</span></code> into the <code class="docutils literal notranslate"><span class="pre">nyc</span></code> database:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">psql -f nyc_buildings.sql nyc</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="creating-a-new-workspace">
<h2>Creating a new workspace<a class="headerlink" href="#creating-a-new-workspace" title="Permalink to this headline">¶</a></h2>
<p>The next step is to create a workspace for the data. A workspace is a container used to group similar layers together.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This step is optional if you’d like to use an existing workspace. Usually, a workspace is created for each project, which can include stores and layers that are related to each other.</p>
</div>
<ol class="arabic">
<li><p>In a web browser, navigate to <code class="docutils literal notranslate"><span class="pre">http://localhost:8080/geoserver</span></code>.</p></li>
<li><p>Log into GeoServer as described in the <a class="reference internal" href="../web-admin-quickstart/index.html#logging-in"><span class="std std-ref">Logging In</span></a> section.</p></li>
<li><p>Navigate to <span class="menuselection">Data ‣ Workspaces</span>.</p>
<div class="figure align-default" id="id1">
<img alt="../../_images/data_workspaces1.png" src="../../_images/data_workspaces1.png" />
<p class="caption"><span class="caption-text">Workspaces page</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>Click the <span class="guilabel">Add new workspace</span> button.</p></li>
<li><p>You will be prompted to enter a workspace <span class="guilabel">Name</span> and <span class="guilabel">Namespace URI</span>.</p>
<div class="figure align-default" id="id2">
<img alt="../../_images/new_workspace.png" src="../../_images/new_workspace.png" />
<p class="caption"><span class="caption-text">Configure a new workspace</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>Enter the <span class="guilabel">Name</span> as <code class="docutils literal notranslate"><span class="pre">nyc</span></code> and the <span class="guilabel">Namespace URI</span> as <code class="docutils literal notranslate"><span class="pre">http://geoserver.org/nyc</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A workspace name is a identifier describing your project. It must not exceed ten characters or contain spaces. A Namespace URI (Uniform Resource Identifier) can usually be a URL associated with your project with an added trailing identifier indicating the workspace. The Namespace URI filed does not need to resolve to an actual valid web address.</p>
</div>
</li>
<li><p>Click the <span class="guilabel">Submit</span> button. The <code class="docutils literal notranslate"><span class="pre">nyc</span></code> workspace will be added to the <span class="guilabel">Workspaces</span> list.</p></li>
</ol>
</div>
<div class="section" id="creating-a-store">
<h2>Creating a store<a class="headerlink" href="#creating-a-store" title="Permalink to this headline">¶</a></h2>
<p>Once the workspace is created, we are ready to add a new store. The store tells GeoServer how to connect to the shapefile.</p>
<ol class="arabic">
<li><p>Navigate to <span class="menuselection">Data‣Stores</span>.</p></li>
<li><p>You should see a list of stores, including the type of store and the workspace that the store belongs to.</p>
<div class="figure align-default" id="id3">
<img alt="../../_images/datastores.png" src="../../_images/datastores.png" />
<p class="caption"><span class="caption-text">Adding a new data source</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>Create a new store by clicking the <code class="docutils literal notranslate"><span class="pre">PostGIS</span></code> link.</p></li>
<li><p>Enter the <span class="guilabel">Basic Store Info</span>:</p>
<ul class="simple">
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">nyc</span></code> <span class="guilabel">Workspace</span></p></li>
<li><p>Enter the <span class="guilabel">Data Source Name</span> as <code class="docutils literal notranslate"><span class="pre">nyc_buildings</span></code></p></li>
<li><p>Add a brief <span class="guilabel">Description</span></p></li>
</ul>
<div class="figure align-default" id="id4">
<img alt="../../_images/basicStore.png" src="../../_images/basicStore.png" />
<p class="caption"><span class="caption-text">Basic Store Info</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>Specify the PostGIS database <span class="guilabel">Connection Parameters</span>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="guilabel">dbtype</span></p></td>
<td><p><kbd class="kbd docutils literal notranslate">postgis</kbd></p></td>
</tr>
<tr class="row-odd"><td><p><span class="guilabel">host</span></p></td>
<td><p><kbd class="kbd docutils literal notranslate">localhost</kbd></p></td>
</tr>
<tr class="row-even"><td><p><span class="guilabel">port</span></p></td>
<td><p><kbd class="kbd docutils literal notranslate">5432</kbd></p></td>
</tr>
<tr class="row-odd"><td><p><span class="guilabel">database</span></p></td>
<td><p><kbd class="kbd docutils literal notranslate">nyc</kbd></p></td>
</tr>
<tr class="row-even"><td><p><span class="guilabel">schema</span></p></td>
<td><p><kbd class="kbd docutils literal notranslate">public</kbd></p></td>
</tr>
<tr class="row-odd"><td><p><span class="guilabel">user</span></p></td>
<td><p><kbd class="kbd docutils literal notranslate">postgres</kbd></p></td>
</tr>
<tr class="row-even"><td><p><span class="guilabel">passwd</span></p></td>
<td><p>(Password for the <code class="docutils literal notranslate"><span class="pre">postgres</span></code> user)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="guilabel">validate connections</span></p></td>
<td><p>(Checked)</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Leave all other fields at their default values.</p>
</div>
<div class="figure align-default" id="id5">
<img alt="../../_images/connectionParameters.png" src="../../_images/connectionParameters.png" />
<p class="caption"><span class="caption-text">Connection Parameters</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>Click <span class="guilabel">Save</span>.</p></li>
</ol>
</div>
<div class="section" id="creating-a-layer">
<h2>Creating a layer<a class="headerlink" href="#creating-a-layer" title="Permalink to this headline">¶</a></h2>
<p>Now that the store is loaded, we can publish the layer.</p>
<ol class="arabic">
<li><p>Navigate to <span class="menuselection">Data ‣ Layers</span>.</p></li>
<li><p>Click <span class="guilabel">Add a new resource</span>.</p></li>
<li><p>From the <span class="guilabel">New Layer chooser</span> menu, select <code class="docutils literal notranslate"><span class="pre">nyc:nyc_buidings</span></code>.</p>
<div class="figure align-default" id="id6">
<img alt="../../_images/newlayerchooser.png" src="../../_images/newlayerchooser.png" />
<p class="caption"><span class="caption-text">Store selection</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>On the resulting layer row, select the layer name <code class="docutils literal notranslate"><span class="pre">nyc_buildings</span></code>.</p>
<div class="figure align-default" id="id7">
<img alt="../../_images/layerrow.png" src="../../_images/layerrow.png" />
<p class="caption"><span class="caption-text">New layer selection</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>The <span class="guilabel">Edit Layer</span> page defines the data and publishing parameters for a layer. Enter a short <span class="guilabel">Title</span> and an <span class="guilabel">Abstract</span> for the <code class="docutils literal notranslate"><span class="pre">nyc_buildings</span></code> layer.</p>
<div class="figure align-default" id="id8">
<img alt="../../_images/basicInfo.png" src="../../_images/basicInfo.png" />
<p class="caption"><span class="caption-text">Basic Resource Info</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>Generate the layer’s bounding boxes by clicking the <span class="guilabel">Compute from data</span> and then <span class="guilabel">Compute from native bounds</span> links.</p>
<div class="figure align-default" id="id9">
<img alt="../../_images/boundingbox.png" src="../../_images/boundingbox.png" />
<p class="caption"><span class="caption-text">Generating bounding boxes</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>Click the <span class="guilabel">Publishing</span> tab at the top of the page.</p></li>
<li><p>We can set the layer’s style here. Under <span class="guilabel">WMS Settings</span>, ensure that the <span class="guilabel">Default Style</span> is set to <span class="guilabel">polygon</span>.</p>
<div class="figure align-default" id="id10">
<img alt="../../_images/style.png" src="../../_images/style.png" />
<p class="caption"><span class="caption-text">Select Default Style</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>Finalize the layer configuration by scrolling to the bottom of the page and clicking <span class="guilabel">Save</span>.</p></li>
</ol>
</div>
<div class="section" id="previewing-the-layer">
<h2>Previewing the layer<a class="headerlink" href="#previewing-the-layer" title="Permalink to this headline">¶</a></h2>
<p>In order to verify that the <code class="docutils literal notranslate"><span class="pre">nyc_buildings</span></code> layer is published correctly, we can preview the layer.</p>
<ol class="arabic">
<li><p>Navigate to the <span class="guilabel">Layer Preview</span> screen and find the <code class="docutils literal notranslate"><span class="pre">nyc:nyc_buildings</span></code> layer.</p></li>
<li><p>Click the <span class="guilabel">OpenLayers</span> link in the <span class="guilabel">Common Formats</span> column.</p></li>
<li><p>An OpenLayers map will load in a new tab and display the shapefile data with the default line style. You can use this preview map to zoom and pan around the dataset, as well as display the attributes of features.</p>
<div class="figure align-default" id="id11">
<img alt="../../_images/openlayers.png" src="../../_images/openlayers.png" />
<p class="caption"><span class="caption-text">Preview map of nyc_buildings</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
</li>
</ol>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="../shapefile-quickstart/index.html" title="previous chapter">Publishing a shapefile</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="../../webadmin/index.html" title="next chapter">Web administration interface</a></div>
      </div>
      </div><!-- /#content> -->
      <div id="content-right" class="content-border"></div>
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Publishing a PostGIS table</a><ul>
<li><a class="reference internal" href="#data-preparation">Data preparation</a></li>
<li><a class="reference internal" href="#creating-a-new-workspace">Creating a new workspace</a></li>
<li><a class="reference internal" href="#creating-a-store">Creating a store</a></li>
<li><a class="reference internal" href="#creating-a-layer">Creating a layer</a></li>
<li><a class="reference internal" href="#previewing-the-layer">Previewing the layer</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="../shapefile-quickstart/index.html" title="previous chapter">Publishing a shapefile</a></li>
            <li>Next: <a href="../../webadmin/index.html" title="next chapter">Web administration interface</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
                
        <li><a href="https://github.com/geoserver/geoserver/tree/master/doc/en/user/source/gettingstarted/postgis-quickstart/index.rst">Edit</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2021, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    Last updated on Jul 20, 2021.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>