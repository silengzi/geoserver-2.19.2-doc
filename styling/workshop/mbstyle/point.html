<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>5.4. Points &mdash; GeoServer 2.19.2 User Manual</title>
  <link rel="stylesheet" href="../../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.19.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../../_static/searchtools.js"></script>
  <script type="text/javascript" src="../../../searchindex.js"></script>
  <link rel="shortcut icon" href="../../../_static/geoserver.ico"/>
      <link rel="search" title="Search" href="../../../search.html" />
      <link rel="top" title="GeoServer 2.19.2 User Manual" href="../../../index.html" />
      <link rel="up" title="5. MBStyle Styling Workbook" href="index.html" />
      <link rel="next" title="5.5. Rasters" href="raster.html" />
      <link rel="prev" title="5.3. Polygons" href="polygon.html" />
</head>
<body class="styling/workshop/mbstyle/point">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../../index.html">GeoServer 2.19.2 User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/about">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/download">Download</a></li>
        <!--<li><a href="../../../index.html">Documentation</a></li>-->
      </ul>
        <form id="quick-search" action="../../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content-left" class="content-border"></div>
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../../index.html">GeoServer 2.19.2 User Manual</a> &raquo;</li>
  <li><a href="../../index.html" accesskey="U">Styling</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Styling Workshop</a> &raquo;</li>
  <li><a href="index.html" accesskey="U"><span class="section-number">5. </span>MBStyle Styling Workbook</a> &raquo;</li>
  <li>5.4. Points</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../../../py-modindex.html" title="Python Module Index"
       accesskey="">modules</a></li>
  <li>
    <a href="raster.html" title="5.5. Rasters"
       accesskey="N">next</a>|</li>
  <li>
    <a href="polygon.html" title="5.3. Polygons"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="points">
<span id="styling-workshop-mbstyle-point"></span><h1><span class="section-number">5.4. </span>Points<a class="headerlink" href="#points" title="Permalink to this headline">¶</a></h1>
<p>The next stop of the mbstyle styling tour is the representation of points.</p>
<div class="figure align-default">
<img alt="../../../_images/PointSymbology1.svg" src="../../../_images/PointSymbology1.svg" /></div>
<p>Review of point symbology:</p>
<ul class="simple">
<li><p>Points are used to represent a location only, and do not form a shape. The visual width of lines do not change depending on scale.</p></li>
<li><p>SLD uses a <strong>PointSymbolizer</strong> record how the shape of a line is drawn.</p></li>
<li><p>Labeling of points is anchored to the point location.</p></li>
</ul>
<p>As points have no inherent shape of of their own, emphasis is placed on marking locations with an appropriate symbol.</p>
<p>Reference:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../mbstyle/reference/index.html#mbstyle-reference"><span class="std std-ref">MBStyle Reference</span></a></p></li>
<li><p><a class="reference external" href="https://www.mapbox.com/mapbox-gl-js/style-spec/#layers-symbol">MapBox Style Spec Symbol Layer</a></p></li>
<li><p><a class="reference external" href="https://www.mapbox.com/mapbox-gl-js/style-spec/#layers-circle">MapBox Style Spec Circle Layer</a></p></li>
<li><p><a class="reference internal" href="../../sld/reference/pointsymbolizer.html#sld-reference-pointsymbolizer"><span class="std std-ref">Point</span></a> (User Manual | SLD Reference )</p></li>
</ul>
<p>This exercise makes use of the <code class="docutils literal notranslate"><span class="pre">ne:populated_places</span></code> layer.</p>
<ol class="arabic">
<li><p>Navigate to the <strong>Styles</strong> page.</p></li>
<li><p>Click <span class="guilabel">Add a new style</span> and choose the following:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name:</p></td>
<td><p><kbd class="kbd docutils literal notranslate">point_example</kbd></p></td>
</tr>
<tr class="row-even"><td><p>Workspace:</p></td>
<td><p><kbd class="kbd docutils literal notranslate">No workspace</kbd></p></td>
</tr>
<tr class="row-odd"><td><p>Format:</p></td>
<td><p><kbd class="kbd docutils literal notranslate">MBStyle</kbd></p></td>
</tr>
</tbody>
</table>
</li>
<li><p>Replace the initial MBStyle definition with the following and click <span class="guilabel">apply</span>:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span>
  <span class="s2">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;icon-image&quot;</span><span class="p">:</span> <span class="s2">&quot;grey_circle&quot;</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>And use the <span class="guilabel">Layer Preview</span> tab to preview the result.</p>
<img alt="../../../_images/point_03_map1.png" src="../../../_images/point_03_map1.png" />
</li>
</ol>
<div class="section" id="sprite">
<h2><span class="section-number">5.4.1. </span>Sprite<a class="headerlink" href="#sprite" title="Permalink to this headline">¶</a></h2>
<p>The <strong>symbol</strong> layer controls the display of point data. Points are typically represented with an <strong>icon-image</strong>.</p>
<div class="figure align-default">
<img alt="../../../_images/PointSymbology1.svg" src="../../../_images/PointSymbology1.svg" /></div>
<p>MBStyle uses a spritesheet defined at the top-level of the style to define a set of icons. You can view the names of all the icons in the spritesheet by looking at its json definition, at <a class="reference external" href="http://localhost:8080/geoserver/styles/sprites.json">http://localhost:8080/geoserver/styles/sprites.json</a>.</p>
<ol class="arabic">
<li><p>Change the symbol used by the style to a square:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span>
  <span class="s2">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;icon-image&quot;</span><span class="p">:</span> <span class="s2">&quot;grey_square16&quot;</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Map Preview:</p>
<img alt="../../../_images/point_mark_11.png" src="../../../_images/point_mark_11.png" />
</li>
<li><p>Before we continue we will use a selector to cut down the amount of data shown to a reasonable level.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span>
  <span class="s2">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;icon-image&quot;</span><span class="p">:</span> <span class="s2">&quot;grey_square16&quot;</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Resulting in a considerably cleaner image:</p>
<img alt="../../../_images/point_mark_21.png" src="../../../_images/point_mark_21.png" />
</li>
<li><p>Additional properties are available to control an icon’s presentation:</p>
<p>The <strong>icon-size</strong> property is used to control symbol size.</p>
<p>The <strong>icon-rotate</strong> property controls orientation, accepting input in degrees.</p>
<p>Trying these two settings together:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span>
  <span class="s2">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;icon-image&quot;</span><span class="p">:</span> <span class="s2">&quot;grey_square16&quot;</span><span class="p">,</span>
        <span class="nt">&quot;icon-size&quot;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span>
        <span class="nt">&quot;icon-rotate&quot;</span><span class="p">:</span> <span class="mi">45</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Results in each location being marked with a diamond:</p>
<img alt="../../../_images/point_mark_31.png" src="../../../_images/point_mark_31.png" />
</li>
</ol>
</div>
<div class="section" id="circle">
<h2><span class="section-number">5.4.2. </span>Circle<a class="headerlink" href="#circle" title="Permalink to this headline">¶</a></h2>
<p>Another way of displaying point data is using the <strong>circle</strong> layer. Rather than rendering an icon from a preset sprite sheet, the circle layer lets us chose size and color for a simple circle.</p>
<ol class="arabic">
<li><p>Modify the style to render a grey circle using the <strong>circle</strong> layer:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
        <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>And use the <span class="guilabel">Layer Preview</span> tab to preview the result.</p>
<img alt="../../../_images/point_03_map1.png" src="../../../_images/point_03_map1.png" />
</li>
</ol>
</div>
<div class="section" id="label">
<h2><span class="section-number">5.4.3. </span>Label<a class="headerlink" href="#label" title="Permalink to this headline">¶</a></h2>
<p>Labeling is now familiar from our experience with LineString and Polygons.</p>
<img alt="../../../_images/Point_Label.svg" src="../../../_images/Point_Label.svg" /><p>The <strong>symbol</strong> layer with the <strong>label</strong> property are used to to label Point Locations.</p>
<ol class="arabic">
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">point_example</span></code> with the following:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
        <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_label&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Confirm the result in <code class="docutils literal notranslate"><span class="pre">Map</span></code> preview.</p>
<img alt="../../../_images/point_label_11.png" src="../../../_images/point_label_11.png" />
</li>
<li><p>Each label is drawn starting from the provided point - which is unfortunate as it assures each label will overlap with the symbol used. To fix this limitation we will make use of the MBStyle controls for label placement:</p>
<p><strong>text-anchor</strong> provides a value expressing how a label is aligned with respect to the starting label position.</p>
<p><strong>text-translate</strong> is used to provide an initial displacement using and x and y offset. For points this offset is recommended to adjust the label position away for the area used by the symbol.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The property <strong>text-anchor</strong> defines an anchor position relative to the bounding box formed by the resulting label.  This anchor position is snapped to the label position generated by the point location and displacement offset.</p>
</div>
</li>
<li><p>Using these two facilities together we can center our labels below the symbol, taking care that the displacement used provides an offset just outside the area required for the symbol size.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
        <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_label&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text-anchor&quot;</span><span class="p">:</span> <span class="s2">&quot;top&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Each label is now placed under the mark.</p>
<img alt="../../../_images/point_label_21.png" src="../../../_images/point_label_21.png" />
</li>
<li><p>One remaining issue is the overlap between labels and symbols.</p>
<p>MBStyle provides various parameters to control label rendering and conflict resolution, preventing labels from overlapping any symbols.</p>
<p><strong>icon-allow-overlap</strong> and <strong>text-allow-overlap</strong> allows the rendering engine to draw the indicated symbol atop previous labels and icons.</p>
<p><strong>icon-ignore-placement</strong> and <strong>text-ignore-placement</strong> allows the rendering engine to draw labels and icons over top of the indicated symbol.</p>
<p><strong>icon-padding</strong> and <strong>text-padding</strong>  tells the rendering engine to provide a minimum distance between the icons and text on the map, ensuring they do not overlap with other labels or icons.</p>
<p>The <strong>-allow-overlap</strong> and <strong>-ignore-placement</strong> parameters are false by default, which is the behavior we want. Update our example to use <strong>text-padding</strong>:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
        <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_label&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text-anchor&quot;</span><span class="p">:</span> <span class="s2">&quot;top&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text-padding&quot;</span><span class="p">:</span> <span class="mi">2</span>
      <span class="p">},</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Resulting in a considerably cleaner image:</p>
<img alt="../../../_images/point_label_31.png" src="../../../_images/point_label_31.png" />
</li>
</ol>
</div>
<div class="section" id="dynamic-styling">
<h2><span class="section-number">5.4.4. </span>Dynamic Styling<a class="headerlink" href="#dynamic-styling" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>We will quickly use <strong>minzoom</strong> and <strong>maxzoom</strong> to select content based on SCALERANK selectors.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_7&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
      <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
        <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_5&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
      <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
      <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
        <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_4&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
      <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
      <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
        <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_3&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
      <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
        <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_2&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
      <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
        <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
      <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
        <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_0&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
        <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Click <span class="guilabel">Submit</span> to update the <span class="guilabel">Map</span> after each step.</p>
<img alt="../../../_images/point_04_scale1.png" src="../../../_images/point_04_scale1.png" />
</li>
<li><p>To add labeling we can add a symbol layer for each of the existing circle layers.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
   <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
   <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_7&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
         <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_7_text&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
       <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
         <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
         <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span>
       <span class="p">},</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_5&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
         <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_5_text&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
       <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
         <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
         <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span>
       <span class="p">},</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_4&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
         <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_4_text&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
       <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
         <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
         <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span>
       <span class="p">},</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_3&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
         <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_3_text&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
       <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
         <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
         <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span>
       <span class="p">},</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_2&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
         <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_2_text&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
       <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
         <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
         <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span>
       <span class="p">},</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_1&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
         <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_1_text&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
       <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
       <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
         <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
         <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span>
       <span class="p">},</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_0&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
         <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
         <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
       <span class="p">}</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_0_text&quot;</span><span class="p">,</span>
       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
       <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
       <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
       <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
         <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
         <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span>
       <span class="p">},</span>
       <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span>
       <span class="p">}</span>
     <span class="p">}</span>
   <span class="p">]</span>
 <span class="p">}</span>
</pre></div>
</div>
<img alt="../../../_images/point_05_label1.png" src="../../../_images/point_05_label1.png" />
</li>
<li><p>We will use <strong>text-offset</strong> to position the label above each symbol, and <strong>text-padding</strong> to give some extra space around our labels.</p>
<p>Add the following line to each layer:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
    <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="hll">    <span class="nt">&quot;text-padding&quot;</span><span class="p">:</span> <span class="mi">2</span>
</span>  <span class="p">},</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
<span class="hll">    <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-12</span><span class="p">]</span>
</span>  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<img alt="../../../_images/point_06_relocate1.png" src="../../../_images/point_06_relocate1.png" />
</li>
<li><p>Now that we have clearly labeled our cities, zoom into an area you are familiar with and we can look at changing symbology on a case-by-case basis.</p>
<p>We have used expressions previous to generate an appropriate label. Expressions can also be used for many other property settings.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ne:populated_places</span></code> layer provides several attributes specifically to make styling easier:</p>
<ul class="simple">
<li><p><strong>SCALERANK</strong>: we have already used this attribute to control the level of detail displayed</p></li>
<li><p><strong>FEATURECLA</strong>: used to indicate different types of cities. We will check for <kbd class="kbd docutils literal notranslate">Admin-0 capital</kbd> cities.</p></li>
</ul>
<p>The first thing we will do is calculate the point <strong>size</strong> using a quick expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
  <span class="s2">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]</span>
  <span class="p">]</span>
<span class="p">},</span>
</pre></div>
</div>
<p>This expression should result in sizes between 5 and 9 and will need to be applied to both point <strong>size</strong> and label <strong>displacement</strong>.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
<span class="hll">    <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="hll">      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
</span><span class="hll">      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
</span><span class="hll">      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="hll">        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">],</span>
</span><span class="hll">        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]</span>
</span><span class="hll">      <span class="p">]</span>
</span><span class="hll">    <span class="p">},</span>
</span>    <span class="nt">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_0_text&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
    <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;text-padding&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
<span class="hll">    <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="hll">      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
</span><span class="hll">      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
</span><span class="hll">      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="hll">        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-8</span><span class="p">]],</span>
</span><span class="hll">        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-6</span><span class="p">]]</span>
</span><span class="hll">      <span class="p">]</span>
</span><span class="hll">    <span class="p">},</span>
</span>  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<img alt="../../../_images/point_07_expression1.png" src="../../../_images/point_07_expression1.png" />
</li>
<li><p>Next we can use <code class="docutils literal notranslate"><span class="pre">FEATURECLA</span></code> to check for capital cities.</p>
<p>Adding a selector for capital cities at the top of the <strong>rules</strong> list:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_capital&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;==&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]]</span>
  <span class="s2">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;icon-image&quot;</span><span class="p">:</span> <span class="s2">&quot;star&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
    <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;text-padding&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-12</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Also add the spritesheet url to the top of the style if it is not present:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
<span class="hll">  <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span><span class="p">,</span>
</span><span class="p">}</span>
</pre></div>
</div>
<p>And updating the populated places selectors to ignore capital cities:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_7&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_7_text&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
    <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;text-padding&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-8</span><span class="p">]],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-6</span><span class="p">]]</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_5&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_5_text&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
    <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;text-padding&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-8</span><span class="p">]],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-6</span><span class="p">]]</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_4&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_4_text&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
    <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;text-padding&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-8</span><span class="p">]],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-6</span><span class="p">]]</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_3&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">8</span>
    <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_3_text&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
  <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
    <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;text-padding&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-8</span><span class="p">]],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-6</span><span class="p">]]</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_2&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_2_text&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
    <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;text-padding&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-8</span><span class="p">]],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-6</span><span class="p">]]</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_1&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_1_text&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
  <span class="nt">&quot;maxzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
    <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;text-padding&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-8</span><span class="p">]],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-6</span><span class="p">]]</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_0_text&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">],</span>
  <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-field&quot;</span><span class="p">:</span> <span class="s2">&quot;{NAME}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-font&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Arial&quot;</span><span class="p">],</span>
    <span class="nt">&quot;text-size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;text-padding&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;text-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nt">&quot;text-translate&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;SCALERANK&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-8</span><span class="p">]],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-6</span><span class="p">]]</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<img alt="../../../_images/point_09_fill1.png" src="../../../_images/point_09_fill1.png" />
</li>
<li><p>If you would like to check your work the final file is here: <a class="reference download internal" download="" href="../../../_downloads/828c5db94adffdb7a374834c4b63d7d3/point_example.json"><code class="xref download docutils literal notranslate"><span class="pre">point_example.mbstyle</span></code></a></p></li>
</ol>
</div>
<div class="section" id="bonus">
<h2><span class="section-number">5.4.5. </span>Bonus<a class="headerlink" href="#bonus" title="Permalink to this headline">¶</a></h2>
<div class="section" id="challenge-geometry-location">
<span id="mbstyle-point-q1"></span><h3><span class="section-number">5.4.5.1. </span>Challenge Geometry Location<a class="headerlink" href="#challenge-geometry-location" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>The <strong>mark</strong> property can be used to render any geometry content.</p></li>
<li><p><strong>Challenge:</strong> Try this yourself by rendering a polygon layer using a <strong>mark</strong> property.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Answer <a class="reference internal" href="done.html#mbstyle-point-a1"><span class="std std-ref">discussed</span></a> at the end of the workbook.</p>
</div>
</li>
</ol>
</div>
<div class="section" id="explore-dynamic-symbolization">
<span id="mbstyle-point-q2"></span><h3><span class="section-number">5.4.5.2. </span>Explore Dynamic Symbolization<a class="headerlink" href="#explore-dynamic-symbolization" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>We went to a lot of work to set up selectors to choose between star and circle for capital cities.</p>
<p>This approach is straightforward when applied in isolation:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_capital&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;==&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]</span>
      <span class="s2">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;icon-image&quot;</span><span class="p">:</span> <span class="s2">&quot;star&quot;</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_0&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;!=&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">],</span>
      <span class="nt">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;circle-color&quot;</span><span class="p">:</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-radius&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="nt">&quot;circle-stroke-width&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>When combined with checking another attribute, or checking &#64;scale as in our example, this approach can quickly lead to many rules which can be difficult to keep straight.</p>
</li>
<li><p>Taking a closer look, <code class="docutils literal notranslate"><span class="pre">icon-image</span></code> is expressed using a string:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_capital&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;==&quot;</span><span class="p">,</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span> <span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">]</span>
  <span class="s2">&quot;minzoom&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;icon-image&quot;</span><span class="p">:</span> <span class="s2">&quot;star&quot;</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Which is represented in SLD as:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;sld:PointSymbolizer</span> <span class="na">uom=</span><span class="s">&quot;http://www.opengeospatial.org/se/units/pixel&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;sld:Graphic&gt;</span>
    <span class="nt">&lt;sld:ExternalGraphic&gt;</span>
      <span class="nt">&lt;sld:OnlineResource</span> <span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span> <span class="na">xlink:type=</span><span class="s">&quot;simple&quot;</span> <span class="na">xlink:href=</span><span class="s">&quot;http://localhost:8080/geoserver/styles/sprites#icon=${strURLEncode(&#39;star&#39;)}&amp;size=${strURLEncode(1.0)}&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;sld:Format&gt;</span>mbsprite<span class="nt">&lt;/sld:Format&gt;</span>
    <span class="nt">&lt;/sld:ExternalGraphic&gt;</span>
  <span class="nt">&lt;/sld:Graphic&gt;</span>
<span class="nt">&lt;/sld:PointSymbolizer&gt;</span>
</pre></div>
</div>
</li>
<li><p>MBStyle provides an opportunity for dynamic symbolization.</p>
<p>This is accomplished by using a function for the value of the <strong>icon-image</strong>:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;point_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/geoserver/styles/sprites&quot;</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;point_capital&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;symbol&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:populated_places&quot;</span><span class="p">,</span>
      <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="hll">        <span class="nt">&quot;icon-image&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="hll">          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;categorical&quot;</span><span class="p">,</span>
</span><span class="hll">          <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;FEATURECLA&quot;</span><span class="p">,</span>
</span><span class="hll">          <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;grey_circle&quot;</span><span class="p">,</span>
</span><span class="hll">          <span class="nt">&quot;stops&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="hll">            <span class="p">[</span><span class="s2">&quot;Admin-0 capital&quot;</span><span class="p">,</span> <span class="s2">&quot;star&quot;</span><span class="p">]</span>
</span><span class="hll">          <span class="p">]</span>
</span><span class="hll">        <span class="p">}</span>
</span>      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Which is represented in SLD as:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;sld:PointSymbolizer</span> <span class="na">uom=</span><span class="s">&quot;http://www.opengeospatial.org/se/units/pixel&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;sld:Graphic&gt;</span>
    <span class="nt">&lt;sld:ExternalGraphic&gt;</span>
      <span class="nt">&lt;sld:OnlineResource</span> <span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span> <span class="na">xlink:type=</span><span class="s">&quot;simple&quot;</span> <span class="na">xlink:href=</span><span class="s">&quot;http://localhost:8080/geoserver/styles/sprites#icon=${strURLEncode(DefaultIfNull(Recode(FEATURECLA,&#39;Admin-0 capital&#39;,&#39;star&#39;),&#39;grey_circle&#39;))}&amp;size=${strURLEncode(1.0)}&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;sld:Format&gt;</span>mbsprite<span class="nt">&lt;/sld:Format&gt;</span>
    <span class="nt">&lt;/sld:ExternalGraphic&gt;</span>
  <span class="nt">&lt;/sld:Graphic&gt;</span>
<span class="nt">&lt;/sld:PointSymbolizer&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>Challenge:</strong> Use this approach to rewrite the <em>Dynamic Styling</em> example.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Answer <a class="reference internal" href="done.html#mbstyle-point-a2"><span class="std std-ref">provided</span></a> at the end of the workbook.</p>
</div>
</li>
</ol>
</div>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="polygon.html" title="previous chapter"><span class="section-number">5.3. </span>Polygons</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="raster.html" title="next chapter"><span class="section-number">5.5. </span>Rasters</a></div>
      </div>
      </div><!-- /#content> -->
      <div id="content-right" class="content-border"></div>
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">5.4. Points</a><ul>
<li><a class="reference internal" href="#sprite">5.4.1. Sprite</a></li>
<li><a class="reference internal" href="#circle">5.4.2. Circle</a></li>
<li><a class="reference internal" href="#label">5.4.3. Label</a></li>
<li><a class="reference internal" href="#dynamic-styling">5.4.4. Dynamic Styling</a></li>
<li><a class="reference internal" href="#bonus">5.4.5. Bonus</a><ul>
<li><a class="reference internal" href="#challenge-geometry-location">5.4.5.1. Challenge Geometry Location</a></li>
<li><a class="reference internal" href="#explore-dynamic-symbolization">5.4.5.2. Explore Dynamic Symbolization</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="polygon.html" title="previous chapter"><span class="section-number">5.3. </span>Polygons</a></li>
            <li>Next: <a href="raster.html" title="next chapter"><span class="section-number">5.5. </span>Rasters</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
                
        <li><a href="https://github.com/geoserver/geoserver/tree/master/doc/en/user/source/styling/workshop/mbstyle/point.rst">Edit</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2021, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    Last updated on Jul 20, 2021.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>