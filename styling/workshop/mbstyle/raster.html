<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>5.5. Rasters &mdash; GeoServer 2.19.2 User Manual</title>
  <link rel="stylesheet" href="../../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.19.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../../_static/searchtools.js"></script>
  <script type="text/javascript" src="../../../searchindex.js"></script>
  <link rel="shortcut icon" href="../../../_static/geoserver.ico"/>
      <link rel="search" title="Search" href="../../../search.html" />
      <link rel="top" title="GeoServer 2.19.2 User Manual" href="../../../index.html" />
      <link rel="up" title="5. MBStyle Styling Workbook" href="index.html" />
      <link rel="next" title="5.6. MBStyle Workbook Conclusion" href="done.html" />
      <link rel="prev" title="5.4. Points" href="point.html" />
</head>
<body class="styling/workshop/mbstyle/raster">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../../index.html">GeoServer 2.19.2 User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/about">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/download">Download</a></li>
        <!--<li><a href="../../../index.html">Documentation</a></li>-->
      </ul>
        <form id="quick-search" action="../../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content-left" class="content-border"></div>
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../../index.html">GeoServer 2.19.2 User Manual</a> &raquo;</li>
  <li><a href="../../index.html" accesskey="U">Styling</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Styling Workshop</a> &raquo;</li>
  <li><a href="index.html" accesskey="U"><span class="section-number">5. </span>MBStyle Styling Workbook</a> &raquo;</li>
  <li>5.5. Rasters</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../../../py-modindex.html" title="Python Module Index"
       accesskey="">modules</a></li>
  <li>
    <a href="done.html" title="5.6. MBStyle Workbook Conclusion"
       accesskey="N">next</a>|</li>
  <li>
    <a href="point.html" title="5.4. Points"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="rasters">
<span id="styling-workshop-mbstyle-raster"></span><h1><span class="section-number">5.5. </span>Rasters<a class="headerlink" href="#rasters" title="Permalink to this headline">¶</a></h1>
<p>Finally we will look at using MBStyle styling for the portrayal of raster data.</p>
<div class="figure align-default" id="id1">
<img alt="../../../_images/RasterSymbology1.svg" src="../../../_images/RasterSymbology1.svg" /><p class="caption"><span class="caption-text">Raster Symbology</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>Review of raster symbology:</p>
<ul>
<li><p>Raster data is <strong>Grid Coverage</strong> where values have been recorded in a regular array. In OGC terms a <strong>Coverage</strong> can be used to look up a value or measurement for each location.</p></li>
<li><p>When queried with a “sample” location:</p>
<ul class="simple">
<li><p>A grid coverage can determine the appropriate array location and retrieve a value. Different techniques may be used interpolate an appropriate value from several measurements (higher quality) or directly return the “nearest neighbor” (faster).</p></li>
<li><p>A vector coverages would use a point-in-polygon check and return an appropriate attribute value.</p></li>
<li><p>A scientific model can calculate a value for each sample location</p></li>
</ul>
</li>
<li><p>Many raster formats organize information into bands of content. Values recorded in these bands and may be mapped into colors for display (a process similar to theming an attribute for vector data).</p>
<p>For imagery the raster data is already formed into red, green and blue bands for display.</p>
</li>
<li><p>As raster data has no inherent shape, the format is responsible for describing the orientation and location of the grid used to record measurements.</p></li>
</ul>
<p>These raster examples use a digital elevation model consisting of a single band of height measurements. The imagery examples use an RGB image that has been hand coloured for use as a base map.</p>
<p>Since MBStyle is primarily intended for client-side styling, it doesn’t have much ability to style raster data when compared with SLD, so this section will be much shorter than the equivalent raster sections for CSS and YSLD.</p>
<p>Reference:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../mbstyle/reference/index.html#mbstyle-reference"><span class="std std-ref">MBStyle Reference</span></a></p></li>
<li><p><a class="reference external" href="https://www.mapbox.com/mapbox-gl-js/style-spec/#layers-raster">MapBox Style Spec Raster Layer</a></p></li>
<li><p><a class="reference internal" href="../../sld/reference/pointsymbolizer.html#sld-reference-pointsymbolizer"><span class="std std-ref">Point</span></a> (User Manual | SLD Reference )</p></li>
</ul>
<p>The exercise makes use of the <code class="docutils literal notranslate"><span class="pre">usgs:dem</span></code> and <code class="docutils literal notranslate"><span class="pre">ne:ne1</span></code> layers.</p>
<div class="section" id="image">
<h2><span class="section-number">5.5.1. </span>Image<a class="headerlink" href="#image" title="Permalink to this headline">¶</a></h2>
<p>The <strong>raster</strong> layer controls the display of raster data.</p>
<ol class="arabic">
<li><p>Navigate to the <strong>Styles</strong> page.</p></li>
<li><p>Click <span class="guilabel">Add a new style</span> and choose the following:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name:</p></td>
<td><p><kbd class="kbd docutils literal notranslate">image_example</kbd></p></td>
</tr>
<tr class="row-even"><td><p>Workspace:</p></td>
<td><p><kbd class="kbd docutils literal notranslate">No workspace</kbd></p></td>
</tr>
<tr class="row-odd"><td><p>Format:</p></td>
<td><p><kbd class="kbd docutils literal notranslate">MBStyle</kbd></p></td>
</tr>
</tbody>
</table>
</li>
<li><p>Replace the initial MBStyle definition with:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;image_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;image_example&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;raster&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;ne:ne1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;raster-opacity&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>And use the <span class="guilabel">Layer Preview</span> tab to preview the result.</p>
<img alt="../../../_images/raster_image_11.png" src="../../../_images/raster_image_11.png" />
</li>
</ol>
</div>
<div class="section" id="dem">
<h2><span class="section-number">5.5.2. </span>DEM<a class="headerlink" href="#dem" title="Permalink to this headline">¶</a></h2>
<p>A digital elevation model is an example of raster data made up of measurements, rather than color information.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">usgs:dem</span></code> layer used used for this exercise:</p>
<ol class="arabic">
<li><p>Return to the the <strong>Styles</strong> page.</p></li>
<li><p>Click <span class="guilabel">Add a new style</span> and choose the following:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name:</p></td>
<td><p><kbd class="kbd docutils literal notranslate">raster_example</kbd></p></td>
</tr>
<tr class="row-even"><td><p>Workspace:</p></td>
<td><p><kbd class="kbd docutils literal notranslate">No workspace</kbd></p></td>
</tr>
<tr class="row-odd"><td><p>Format:</p></td>
<td><p><kbd class="kbd docutils literal notranslate">MBStyle</kbd></p></td>
</tr>
</tbody>
</table>
</li>
<li><p>The rendering engine will select our single band of raster content, and do its best to map these values into a grayscale image. Replace the content of the style with:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;raster_example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;layers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;raster_example&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;raster&quot;</span><span class="p">,</span>
      <span class="nt">&quot;source-layer&quot;</span><span class="p">:</span> <span class="s2">&quot;usgs:dem&quot;</span><span class="p">,</span>
      <span class="nt">&quot;paint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;raster-opacity&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Use the <span class="guilabel">Layer Preview</span> tab to preview the result. The range produced in this case from the highest and lowest values.</p>
<img alt="../../../_images/raster_dem_11.png" src="../../../_images/raster_dem_11.png" />
</li>
</ol>
<div class="section" id="bonus">
<h3><span class="section-number">5.5.2.1. </span>Bonus<a class="headerlink" href="#bonus" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="challenge-raster-opacity">
<span id="mbstyle-raster-q4"></span><h2><span class="section-number">5.5.3. </span>Challenge Raster Opacity<a class="headerlink" href="#challenge-raster-opacity" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>There is a quick way to make raster data transparent, raster <strong>opacity</strong> property works in the same fashion as with vector data. The raster as a whole will be drawn partially transparent allow content from other layers to provide context.</p></li>
<li><p><strong>Challenge:</strong> Can you think of an example where this would be useful?</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Discussion <a class="reference internal" href="done.html#mbstyle-raster-a4"><span class="std std-ref">provided</span></a> at the end of the workbook.</p>
</div>
</li>
</ol>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="point.html" title="previous chapter"><span class="section-number">5.4. </span>Points</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="done.html" title="next chapter"><span class="section-number">5.6. </span>MBStyle Workbook Conclusion</a></div>
      </div>
      </div><!-- /#content> -->
      <div id="content-right" class="content-border"></div>
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">5.5. Rasters</a><ul>
<li><a class="reference internal" href="#image">5.5.1. Image</a></li>
<li><a class="reference internal" href="#dem">5.5.2. DEM</a><ul>
<li><a class="reference internal" href="#bonus">5.5.2.1. Bonus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#challenge-raster-opacity">5.5.3. Challenge Raster Opacity</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="point.html" title="previous chapter"><span class="section-number">5.4. </span>Points</a></li>
            <li>Next: <a href="done.html" title="next chapter"><span class="section-number">5.6. </span>MBStyle Workbook Conclusion</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
                
        <li><a href="https://github.com/geoserver/geoserver/tree/master/doc/en/user/source/styling/workshop/mbstyle/raster.rst">Edit</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2021, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    Last updated on Jul 20, 2021.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>